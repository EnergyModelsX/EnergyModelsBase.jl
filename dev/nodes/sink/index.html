<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Sink · EnergyModelsBase</title><meta name="title" content="Sink · EnergyModelsBase"/><meta property="og:title" content="Sink · EnergyModelsBase"/><meta property="twitter:title" content="Sink · EnergyModelsBase"/><meta name="description" content="Documentation for EnergyModelsBase."/><meta property="og:description" content="Documentation for EnergyModelsBase."/><meta property="twitter:description" content="Documentation for EnergyModelsBase."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">EnergyModelsBase</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Manual</span><ul><li><a class="tocitem" href="../../manual/quick-start/">Quick Start</a></li><li><a class="tocitem" href="../../manual/philosophy/">Philosophy</a></li><li><a class="tocitem" href="../../manual/optimization-variables/">Optimization variables</a></li><li><a class="tocitem" href="../../manual/constraint-functions/">Constraint functions</a></li><li><a class="tocitem" href="../../manual/data-functions/">Data functions</a></li><li><a class="tocitem" href="../../manual/simple-example/">Example</a></li><li><a class="tocitem" href="../../manual/investments/">Investment options</a></li><li><a class="tocitem" href="../../manual/NEWS/">Release notes</a></li></ul></li><li><span class="tocitem">Nodes</span><ul><li><a class="tocitem" href="../source/">Source</a></li><li><a class="tocitem" href="../networknode/">NetworkNode</a></li><li><a class="tocitem" href="../storage/">Storage</a></li><li class="is-active"><a class="tocitem" href>Sink</a><ul class="internal"><li><a class="tocitem" href="#nodes-sink-fields"><span>Introduced type and its fields</span></a></li><li><a class="tocitem" href="#nodes-sink-math"><span>Mathematical description</span></a></li></ul></li><li><a class="tocitem" href="../availability/">Availability</a></li></ul></li><li><span class="tocitem">How to</span><ul><li><a class="tocitem" href="../../how-to/create-new-node/">Create a new node</a></li><li><a class="tocitem" href="../../how-to/utilize-timestruct/">Utilize TimeStruct</a></li><li><a class="tocitem" href="../../how-to/update-models/">Update models</a></li><li><a class="tocitem" href="../../how-to/contribute/">Contribute to EnergyModelsBase</a></li></ul></li><li><span class="tocitem">Library</span><ul><li><input class="collapse-toggle" id="menuitem-5-1" type="checkbox"/><label class="tocitem" for="menuitem-5-1"><span class="docs-label">Public</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../library/public/resources/">Resources</a></li><li><a class="tocitem" href="../../library/public/model_data/">Modeltype and Data</a></li><li><a class="tocitem" href="../../library/public/nodes/">Nodes</a></li><li><a class="tocitem" href="../../library/public/links/">Links</a></li><li><a class="tocitem" href="../../library/public/functions/">Functions</a></li><li><a class="tocitem" href="../../library/public/misc/">Miscellaneous</a></li><li><a class="tocitem" href="../../library/public/emi_extension/">EMI extension</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5-2" type="checkbox"/><label class="tocitem" for="menuitem-5-2"><span class="docs-label">Internal</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../library/internals/types/">Types</a></li><li><a class="tocitem" href="../../library/internals/functions/">Functions</a></li><li><a class="tocitem" href="../../library/internals/reference_EMIExt/">EMI extension</a></li></ul></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Nodes</a></li><li class="is-active"><a href>Sink</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Sink</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/main/docs/src/nodes/sink.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="nodes-sink"><a class="docs-heading-anchor" href="#nodes-sink">Sink node</a><a id="nodes-sink-1"></a><a class="docs-heading-anchor-permalink" href="#nodes-sink" title="Permalink"></a></h1><p><a href="../../manual/optimization-variables/#Sink"><code>Sink</code></a> nodes are technologies that only have an input connection. In the context of <code>EnergyModelsBase</code>, they correspond to a demand.</p><h2 id="nodes-sink-fields"><a class="docs-heading-anchor" href="#nodes-sink-fields">Introduced type and its fields</a><a id="nodes-sink-fields-1"></a><a class="docs-heading-anchor-permalink" href="#nodes-sink-fields" title="Permalink"></a></h2><p>The <a href="../../library/public/nodes/#EnergyModelsBase.RefSink"><code>RefSink</code></a> node is implemented as a reference node that can be used for a <a href="../../manual/optimization-variables/#Sink"><code>Sink</code></a>. It includes basic functionalities common to most energy system optimization models.</p><p>The fields of a <a href="../../library/public/nodes/#EnergyModelsBase.RefSink"><code>RefSink</code></a> node are given as:</p><ul><li><strong><code>id</code></strong>:<br/>The field <code>id</code> is only used for providing a name to the node.</li><li><strong><code>cap::TimeProfile</code></strong>:<br/>The installed capacity corresponds to the nominal demand of the node.<br/>If the node should contain investments through the application of <a href="https://energymodelsx.github.io/EnergyModelsInvestments.jl/"><code>EnergyModelsInvestments</code></a>, it is important to note that you can only use <code>FixedProfile</code> or <code>StrategicProfile</code> for the capacity, but not <code>RepresentativeProfile</code> or <code>OperationalProfile</code>. In addition, all values have to be non-negative.</li><li><strong><code>penalty::Dict{Symbol,&lt;:TimeProfile}</code></strong>:<br/>The penalty dictionary is used for providing penalties for soft constraints to allow for both over and under delivering the demand.<br/>It must include the fields <code>:surplus</code> and <code>:deficit</code>. In addition, it is crucial that the sum of both values is larger than 0 to avoid an unconstrained model.</li><li><strong><code>input::Dict{&lt;:Resource,&lt;:Real}</code></strong>:<br/>The field <code>input</code> includes <a href="../../library/public/resources/#EnergyModelsBase.Resource"><code>Resource</code></a>s with their corresponding conversion factors as dictionaries.<br/>All values have to be non-negative.</li><li><strong><code>data::Vector{Data}</code></strong>:<br/>An entry for providing additional data to the model. In the current version, it is used for both providing <code>EmissionsData</code> and additional investment data when <a href="https://energymodelsx.github.io/EnergyModelsInvestments.jl/"><code>EnergyModelsInvestments</code></a> is used.<div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>The field <code>data</code> is not required as we include a constructor when the value is excluded.</p></div></div><div class="admonition is-danger"><header class="admonition-header">Using `CaptureData`</header><div class="admonition-body"><p>As a <code>Sink</code> node does not have any output, it is not possible to utilize <code>CaptureData</code>. If you still plan to specify it, you will receive an error in the model building.</p></div></div></li></ul><h2 id="nodes-sink-math"><a class="docs-heading-anchor" href="#nodes-sink-math">Mathematical description</a><a id="nodes-sink-math-1"></a><a class="docs-heading-anchor-permalink" href="#nodes-sink-math" title="Permalink"></a></h2><p>In the following mathematical equations, we use the name for variables and functions used in the model. Variables are in general represented as</p><p><span>$\texttt{var\_example}[index_1, index_2]$</span></p><p>with square brackets, while functions are represented as</p><p><span>$func\_example(index_1, index_2)$</span></p><p>with paranthesis.</p><h3 id="nodes-sink-math-var"><a class="docs-heading-anchor" href="#nodes-sink-math-var">Variables</a><a id="nodes-sink-math-var-1"></a><a class="docs-heading-anchor-permalink" href="#nodes-sink-math-var" title="Permalink"></a></h3><p>The variables of <a href="../../manual/optimization-variables/#Sink"><code>Sink</code></a> nodes include:</p><ul><li><a href="../../manual/optimization-variables/#man-opt_var-opex"><span>$\texttt{opex\_var}$</span></a></li><li><a href="../../manual/optimization-variables/#man-opt_var-opex"><span>$\texttt{opex\_fixed}$</span></a></li><li><a href="../../manual/optimization-variables/#man-opt_var-cap"><span>$\texttt{cap\_use}$</span></a></li><li><a href="../../manual/optimization-variables/#man-opt_var-cap"><span>$\texttt{cap\_inst}$</span></a></li><li><a href="../../manual/optimization-variables/#man-opt_var-flow"><span>$\texttt{flow\_out}$</span></a></li><li><a href="../../manual/optimization-variables/#man-opt_var-sink"><span>$\texttt{sink\_surplus}$</span></a></li><li><a href="../../manual/optimization-variables/#man-opt_var-sink"><span>$\texttt{sink\_deficit}$</span></a></li><li><a href="../../manual/optimization-variables/#man-opt_var-emissions"><span>$\texttt{emissions\_node}$</span></a> if <code>EmissionsData</code> is added to the field <code>data</code></li></ul><h3 id="nodes-sink-math-con"><a class="docs-heading-anchor" href="#nodes-sink-math-con">Constraints</a><a id="nodes-sink-math-con-1"></a><a class="docs-heading-anchor-permalink" href="#nodes-sink-math-con" title="Permalink"></a></h3><p>A qualitative overview of the individual constraints can be found on <em><a href="../../manual/constraint-functions/#man-con">Constraint functions</a></em>. This section focuses instead on the mathematical description of the individual constraints. It omits the direction inclusion of the vector of sink nodes (or all nodes, if nothing specific is implemented). Instead, it is implicitly assumed that the constraints are valid <span>$\forall n ∈ N^{\text{Sink}}$</span> for all <a href="../../manual/optimization-variables/#Sink"><code>Sink</code></a> types if not stated differently. In addition, all constraints are valid <span>$\forall t \in T$</span> (that is in all operational periods) or <span>$\forall t_{inv} \in T^{Inv}$</span> (that is in all strategic periods).</p><p>The following standard constraints are implemented for a <a href="../../manual/optimization-variables/#Sink"><code>Sink</code></a> node. <a href="../../manual/optimization-variables/#Sink"><code>Sink</code></a> nodes utilize the declared method for all nodes 𝒩. The constraint functions are called within the function <a href="../../library/public/functions/#EnergyModelsBase.create_node"><code>create_node</code></a>. Hence, if you do not have to call additional functions, but only plan to include a method for one of the existing functions, you do not have to specify a new <a href="../../library/public/functions/#EnergyModelsBase.create_node"><code>create_node</code></a> method.</p><ul><li><p><code>constraints_capacity</code>:</p><p class="math-container">\[\texttt{cap\_use}[n, t] + \texttt{sink\_deficit}[n, t] = \texttt{cap\_inst}[n, t] + \texttt{sink\_surplus}[n, t]\]</p></li><li><p><code>constraints_capacity_installed</code>:</p><p class="math-container">\[\texttt{cap\_inst}[n, t] = capacity(n, t)\]</p><div class="admonition is-success"><header class="admonition-header">Using investments</header><div class="admonition-body"><p>The function <code>constraints_capacity_installed</code> is also used in <a href="https://energymodelsx.github.io/EnergyModelsInvestments.jl/"><code>EnergyModelsInvestments</code></a> to incorporate the potential for investment. Nodes with investments are then no longer constrained by the parameter capacity.</p></div></div></li><li><p><code>constraints_flow_in</code>:</p><p class="math-container">\[\texttt{flow\_in}[n, t, p] =
inputs(n, p) \times \texttt{cap\_use}[n, t]
\qquad \forall p \in inputs(n)\]</p><div class="admonition is-success"><header class="admonition-header">Multiple inputs</header><div class="admonition-body"><p>The constrained above allows for the utilization of multiple inputs with varying ratios. it is however necessary to deliver the fixed ratio of all inputs.</p></div></div></li><li><p><code>constraints_opex_fixed</code>:<br/>The current implementation fixes the fixed operating expenses of a sink to 0.</p><p class="math-container">\[\texttt{opex\_fixed}[n, t_{inv}] = 0\]</p></li><li><p><code>constraints_opex_var</code>:</p><p class="math-container">\[\begin{aligned}
\texttt{opex\_var}[n, t_{inv}] = &amp; \\
  \sum_{t \in t_{inv}} &amp; surplus\_penalty(n, t) \times \texttt{sink\_surplus}[n, t] + \\ &amp;
  deficit\_penalty(n, t) \times \texttt{sink\_deficit}[n, t] \times \\ &amp;
  scale\_op\_sp(t_{inv}, t)
\end{aligned}\]</p><div class="admonition is-success"><header class="admonition-header">The function `scale_op_sp`</header><div class="admonition-body"><p>The function <a href="../../library/public/functions/#EnergyModelsBase.scale_op_sp"><span>$scale\_op\_sp(t_{inv}, t)$</span></a> calculates the scaling factor between operational and strategic periods. It also takes into account potential operational scenarios and their probability as well as representative periods.</p></div></div></li><li><p><code>constraints_data</code>:<br/>This function is only called for specified additional data, see above.</p></li></ul></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../storage/">« Storage</a><a class="docs-footer-nextpage" href="../availability/">Availability »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.7.0 on <span class="colophon-date" title="Wednesday 16 October 2024 05:23">Wednesday 16 October 2024</span>. Using Julia version 1.11.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
