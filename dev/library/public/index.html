<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Public · EnergyModelsBase</title><meta name="title" content="Public · EnergyModelsBase"/><meta property="og:title" content="Public · EnergyModelsBase"/><meta property="twitter:title" content="Public · EnergyModelsBase"/><meta name="description" content="Documentation for EnergyModelsBase."/><meta property="og:description" content="Documentation for EnergyModelsBase."/><meta property="twitter:description" content="Documentation for EnergyModelsBase."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">EnergyModelsBase</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Manual</span><ul><li><a class="tocitem" href="../../manual/quick-start/">Quick Start</a></li><li><a class="tocitem" href="../../manual/philosophy/">Philosophy</a></li><li><a class="tocitem" href="../../manual/optimization-variables/">Optimization variables</a></li><li><a class="tocitem" href="../../manual/constraint-functions/">Constraint functions</a></li><li><a class="tocitem" href="../../manual/data-functions/">Data functions</a></li><li><a class="tocitem" href="../../manual/simple-example/">Example</a></li><li><a class="tocitem" href="../../manual/investments/">Investment options</a></li><li><a class="tocitem" href="../../manual/NEWS/">Release notes</a></li></ul></li><li><span class="tocitem">How to</span><ul><li><a class="tocitem" href="../../how-to/create-new-node/">Create a new node</a></li><li><a class="tocitem" href="../../how-to/utilize-timestruct/">Utilize TimeStruct</a></li><li><a class="tocitem" href="../../how-to/update-models/">Update models</a></li><li><a class="tocitem" href="../../how-to/contribute/">Contribute to EnergyModelsBase</a></li></ul></li><li><span class="tocitem">Library</span><ul><li class="is-active"><a class="tocitem" href>Public</a><ul class="internal"><li><a class="tocitem" href="#Module"><span>Module</span></a></li><li><a class="tocitem" href="#lib-pub-res"><span>Resources</span></a></li><li><a class="tocitem" href="#lib-pub-nodes"><span>Nodes</span></a></li><li><a class="tocitem" href="#lib-pub-links"><span>Links</span></a></li><li><a class="tocitem" href="#lib-pub-mod_data"><span>Model and data</span></a></li><li><a class="tocitem" href="#lib-pub-fun_run"><span>Functions for running the model</span></a></li><li><a class="tocitem" href="#lib-pub-fun_ext"><span>Functions for extending the model</span></a></li><li><a class="tocitem" href="#lib-pub-fun_con"><span>Constraint functions</span></a></li><li><a class="tocitem" href="#lib-pub-em_data"><span>Emission data</span></a></li><li><a class="tocitem" href="#lib-pub-inv_data"><span>Investment data</span></a></li><li><a class="tocitem" href="#lib-pub-misc_type"><span>Miscellaneous types/functions/macros</span></a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-2" type="checkbox"/><label class="tocitem" for="menuitem-4-2"><span class="docs-label">Internals</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../internals/reference/">Reference</a></li><li><a class="tocitem" href="../internals/reference_EMIExt/">Reference EMIExt</a></li></ul></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Library</a></li><li class="is-active"><a href>Public</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Public</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/main/docs/src/library/public.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="lib-pub"><a class="docs-heading-anchor" href="#lib-pub">Public interface</a><a id="lib-pub-1"></a><a class="docs-heading-anchor-permalink" href="#lib-pub" title="Permalink"></a></h1><h2 id="Module"><a class="docs-heading-anchor" href="#Module">Module</a><a id="Module-1"></a><a class="docs-heading-anchor-permalink" href="#Module" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase" href="#EnergyModelsBase"><code>EnergyModelsBase</code></a> — <span class="docstring-category">Module</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Main module for <code>EnergyModelsBase</code> a framework for building flexible energy system models.</p><p>It exports several types and associated functions for accessing fields. In addition, all required functions for creaeting and running the model are exported.</p><p>You can find the exported types and functions below or on the pages <em><a href="../../manual/constraint-functions/#man-con">Constraint functions</a></em> and <em><a href="../../manual/data-functions/#man-data_fun">Data functions</a></em>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/EnergyModelsBase.jl#L1-L8">source</a></section></article><h2 id="lib-pub-res"><a class="docs-heading-anchor" href="#lib-pub-res">Resources</a><a id="lib-pub-res-1"></a><a class="docs-heading-anchor-permalink" href="#lib-pub-res" title="Permalink"></a></h2><p><code>Resource</code>s correspond to the mass/energy that is converted or transported within an energy system. <code>Resource</code>s are discrete, that is they do not have as default additional variables, <em>e.g.</em> pressure or temperature, associated with them. Instead, they are implemented through flows and levels, as explained in <em><a href="../../manual/optimization-variables/#man-opt_var">Optimization variables</a></em>.</p><h3 id="lib-pub-res-types"><a class="docs-heading-anchor" href="#lib-pub-res-types"><code>Resource</code> types</a><a id="lib-pub-res-types-1"></a><a class="docs-heading-anchor-permalink" href="#lib-pub-res-types" title="Permalink"></a></h3><p>The following resources are implemented in <code>EnergyModelsBase</code>. <code>EnergyModelsBase</code> differentiates between <code>ResourceCarrier</code> and <code>ResourceEmit</code> resources. The key difference between both is that <code>ResourceEmit</code> resources can have emissions, <em>e.g.</em>, CO₂ or methane. Emissions are accounted for and can have either a cap and/or a price associated with them.</p><p>One important field for a resource is the CO₂ intensity (<code>co2_int</code>). CO₂ is handled differently than other emissions as the emissions are fundamental properties of a fuel based on the carbon content.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.Resource" href="#EnergyModelsBase.Resource"><code>EnergyModelsBase.Resource</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>General resource supertype to be used for the declaration of subtypes.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/resource.jl#L1-L3">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.ResourceCarrier" href="#EnergyModelsBase.ResourceCarrier"><code>EnergyModelsBase.ResourceCarrier</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ResourceCarrier{T&lt;:Real} &lt;: Resource</code></pre><p>Resources that can be transported and converted. These resources cannot be included as resources that are emitted, <em>e.g</em>, in the variable <a href="../../manual/optimization-variables/#man-opt_var-emissions"><code>emissions_strategic</code></a>.</p><p><strong>Fields</strong></p><ul><li><strong><code>id</code></strong> is the name/identifyer of the resource.</li><li><strong><code>co2_int::T</code></strong> is the the CO₂ intensity, <em>e.g.</em>, t/MWh.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/resource.jl#L24-L34">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.ResourceEmit" href="#EnergyModelsBase.ResourceEmit"><code>EnergyModelsBase.ResourceEmit</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ResourceEmit{T&lt;:Real} &lt;: Resource</code></pre><p>Resources that can can be emitted (e.g., CO₂, CH₄, NOₓ).</p><p>These resources can be included as resources that are emitted, <em>e.g</em>, in the variable <a href="../../manual/optimization-variables/#man-opt_var-emissions"><code>emissions_strategic</code></a>.</p><p><strong>Fields</strong></p><ul><li><strong><code>id</code></strong> is the name/identifyer of the resource.</li><li><strong><code>co2_int::T</code></strong> is the the CO₂ intensity, <em>e.g.</em>, t/MWh.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/resource.jl#L7-L18">source</a></section></article><h3 id="lib-pub-res-fun_field"><a class="docs-heading-anchor" href="#lib-pub-res-fun_field">Functions for accessing fields of <code>Resource</code> types</a><a id="lib-pub-res-fun_field-1"></a><a class="docs-heading-anchor-permalink" href="#lib-pub-res-fun_field" title="Permalink"></a></h3><p>The following functions are declared for accessing fields from a <code>Resource</code> type. If you want to introduce new <code>Resource</code> types, it is important that this function are either functional for your new types or you have to declare a corresponding function.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.co2_int" href="#EnergyModelsBase.co2_int"><code>EnergyModelsBase.co2_int</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">co2_int(p::Resource)</code></pre><p>Returns the CO₂ intensity of resource <code>p</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/resource.jl#L40-L44">source</a></section></article><h2 id="lib-pub-nodes"><a class="docs-heading-anchor" href="#lib-pub-nodes">Nodes</a><a id="lib-pub-nodes-1"></a><a class="docs-heading-anchor-permalink" href="#lib-pub-nodes" title="Permalink"></a></h2><p><code>Node</code>s are used in <code>EnergyModelsBase</code> to convert <code>Resource</code>s. They are coupled to the rest of the system through the <em><a href="../../manual/optimization-variables/#man-opt_var-flow">Flow variables</a></em>. Nodes are the key types for extending <code>EnergyModelsBase</code> through dispatch. You can find an introduction of the different node types on the page <em><a href="../../how-to/create-new-node/#how_to-create_node">Creating a new node</a></em></p><h3 id="lib-pub-nodes-abstract"><a class="docs-heading-anchor" href="#lib-pub-nodes-abstract">Abstract <code>Node</code> types</a><a id="lib-pub-nodes-abstract-1"></a><a class="docs-heading-anchor-permalink" href="#lib-pub-nodes-abstract" title="Permalink"></a></h3><p>The following abstract node types are implemented in the <code>EnergyModelsBase</code>. These abstract types are relevant for dispatching in individual functions.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.Source" href="#EnergyModelsBase.Source"><code>EnergyModelsBase.Source</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p><code>Source</code> node with only output.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/node.jl#L168">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.NetworkNode" href="#EnergyModelsBase.NetworkNode"><code>EnergyModelsBase.NetworkNode</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p><code>NetworkNode</code> node with both input and output.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/node.jl#L170">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.Sink" href="#EnergyModelsBase.Sink"><code>EnergyModelsBase.Sink</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p><code>Sink</code> node with only input.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/node.jl#L172">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.Storage" href="#EnergyModelsBase.Storage"><code>EnergyModelsBase.Storage</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p><code>Storage</code> node with level.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/node.jl#L174">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.Availability" href="#EnergyModelsBase.Availability"><code>EnergyModelsBase.Availability</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p><code>Availability</code> node as routing node.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/node.jl#L176">source</a></section></article><h3 id="lib-pub-nodes-ref"><a class="docs-heading-anchor" href="#lib-pub-nodes-ref">Reference node types</a><a id="lib-pub-nodes-ref-1"></a><a class="docs-heading-anchor-permalink" href="#lib-pub-nodes-ref" title="Permalink"></a></h3><p>The following composite types are implemented in the <code>EnergyModelsBase</code>. They can be used for describing a simple energy system without any non-linear or binary based expressions. Hence, there are, <em>e.g.</em>, no operation point specific efficiencies implemented.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.RefSource" href="#EnergyModelsBase.RefSource"><code>EnergyModelsBase.RefSource</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">RefSource &lt;: Source</code></pre><p>A reference <code>Source</code> node. The reference <code>Source</code> node allows for a time varying capacity which is normalized to a conversion value of 1 in the field <code>input</code>. Note, that if you include investments, you can only use as <code>TimeProfile</code> a <code>FixedProfile</code> or <code>StrategicProfile</code>.</p><p><strong>Fields</strong></p><ul><li><strong><code>id</code></strong> is the name/identifier of the node.</li><li><strong><code>cap::TimeProfile</code></strong> is the installed capacity.</li><li><strong><code>opex_var::TimeProfile</code></strong> is the variable operating expense per energy unit produced.</li><li><strong><code>opex_fixed::TimeProfile</code></strong> is the fixed operating expense.</li><li><strong><code>output::Dict{&lt;:Resource, &lt;:Real}</code></strong> are the generated <a href="#EnergyModelsBase.Resource"><code>Resource</code></a>s with conversion value <code>Real</code>.</li><li><strong><code>data::Vector{&lt;:Data}</code></strong> is the additional data (e.g. for investments). The field <code>data</code> is conditional through usage of a constructor.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/node.jl#L179-L197">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.RefNetworkNode" href="#EnergyModelsBase.RefNetworkNode"><code>EnergyModelsBase.RefNetworkNode</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">RefNetworkNode &lt;: NetworkNode</code></pre><p>A reference <code>NetworkNode</code> node. The <code>RefNetworkNode</code> utilizes a linear, time independent conversion rate of the <code>input</code> <a href="#EnergyModelsBase.Resource"><code>Resource</code></a>s to the output <a href="#EnergyModelsBase.Resource"><code>Resource</code></a>s, subject to the available capacity. The capacity is hereby normalized to a conversion value of 1 in the fields <code>input</code> and <code>output</code>.</p><p><strong>Fields</strong></p><ul><li><strong><code>id</code></strong> is the name/identifier of the node.</li><li><strong><code>cap::TimeProfile</code></strong> is the installed capacity.</li><li><strong><code>opex_var::TimeProfile</code></strong> is the variable operating expense per energy unit produced.</li><li><strong><code>opex_fixed::TimeProfile</code></strong> is the fixed operating expense.</li><li><strong><code>input::Dict{&lt;:Resource, &lt;:Real}</code></strong> are the input <a href="#EnergyModelsBase.Resource"><code>Resource</code></a>s with conversion value <code>Real</code>.</li><li><strong><code>output::Dict{&lt;:Resource, &lt;:Real}</code></strong> are the generated <a href="#EnergyModelsBase.Resource"><code>Resource</code></a>s with conversion value <code>Real</code>.</li><li><strong><code>data::Vector{Data}</code></strong> is the additional data (e.g. for investments). The field <code>data</code> is conditional through usage of a constructor.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/node.jl#L216-L236">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.RefSink" href="#EnergyModelsBase.RefSink"><code>EnergyModelsBase.RefSink</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">RefSink &lt;: Sink</code></pre><p>A reference <code>Sink</code> node. This node corresponds to a demand given by the field <code>cap</code>. The penalties introduced in the field <code>penalty</code> affect the variable OPEX for both a surplus and deficit.</p><p><strong>Fields</strong></p><ul><li><strong><code>id</code></strong> is the name/identifier of the node.</li><li><strong><code>cap::TimeProfile</code></strong> is the Demand.</li><li><strong><code>penalty::Dict{Any, TimeProfile}</code></strong> are penalties for surplus or deficits. Requires the fields <code>:surplus</code> and <code>:deficit</code>.</li><li><strong><code>input::Dict{&lt;:Resource, &lt;:Real}</code></strong> are the input <a href="#EnergyModelsBase.Resource"><code>Resource</code></a>s with conversion value <code>Real</code>.</li><li><strong><code>data::Vector{&lt;:Data}</code></strong> is the additional data (e.g. for investments). The field <code>data</code> is conditional through usage of a constructor.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/node.jl#L330-L345">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.RefStorage" href="#EnergyModelsBase.RefStorage"><code>EnergyModelsBase.RefStorage</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">RefStorage{T} &lt;: Storage{T}</code></pre><p>A reference <code>Storage</code> node.</p><p>This node is designed to store either a <a href="#EnergyModelsBase.ResourceCarrier"><code>ResourceCarrier</code></a> or a <a href="#EnergyModelsBase.ResourceEmit"><code>ResourceEmit</code></a>. It is designed as a parametric type through the type parameter <code>T</code> to differentiate between different cyclic behaviours. Note that the parameter <code>T</code> is only used for dispatching, but does not carry any other information. Hence, it is simple to fast switch between different <a href="../internals/reference/#EnergyModelsBase.StorageBehavior"><code>StorageBehavior</code></a>s.</p><p>The current implemented cyclic behaviours are <a href="#EnergyModelsBase.CyclicRepresentative"><code>CyclicRepresentative</code></a>, <a href="#EnergyModelsBase.CyclicStrategic"><code>CyclicStrategic</code></a>, and <a href="#EnergyModelsBase.AccumulatingEmissions"><code>AccumulatingEmissions</code></a>.</p><p><strong>Fields</strong></p><ul><li><strong><code>id</code></strong> is the name/identifier of the node.</li><li><strong><code>charge::AbstractStorageParameters</code></strong> are the charging parameters of the <code>Storage</code> node. Depending on the chosen type, the charge parameters can include variable OPEX, fixed OPEX, and/or a capacity.</li><li><strong><code>level::AbstractStorageParameters</code></strong> are the level parameters of the <code>Storage</code> node. Depending on the chosen type, the charge parameters can include variable OPEX and/or fixed OPEX.</li><li><strong><code>stor_res::Resource</code></strong> is the stored <a href="#EnergyModelsBase.Resource"><code>Resource</code></a>.</li><li><strong><code>input::Dict{&lt;:Resource, &lt;:Real}</code></strong> are the input <a href="#EnergyModelsBase.Resource"><code>Resource</code></a>s with conversion value <code>Real</code>.</li><li><strong><code>output::Dict{&lt;:Resource, &lt;:Real}</code></strong> are the generated <a href="#EnergyModelsBase.Resource"><code>Resource</code></a>s with conversion value <code>Real</code>. Only relevant for linking and the stored <a href="#EnergyModelsBase.Resource"><code>Resource</code></a> as the output value is not utilized in the calculations.</li><li><strong><code>data::Vector{&lt;:Data}</code></strong> is the additional data (e.g. for investments). The field <code>data</code> is conditional through usage of a constructor.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/node.jl#L279-L308">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.GenAvailability" href="#EnergyModelsBase.GenAvailability"><code>EnergyModelsBase.GenAvailability</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">GenAvailability &lt;: Availability</code></pre><p>A reference <code>Availability</code> node. The reference <code>Availability</code> node solves the energy balance for all connected flows.</p><p><strong>Fields</strong></p><ul><li><strong><code>id</code></strong> is the name/identifier of the node.</li><li><strong><code>inputs::Vector{&lt;:Resource}</code></strong> are the input <a href="#EnergyModelsBase.Resource"><code>Resource</code></a>s.</li><li><strong><code>output::Vector{&lt;:Resource}</code></strong> are the output <a href="#EnergyModelsBase.Resource"><code>Resource</code></a>s.</li></ul><p>A constructor is provided so that only a single array can be provided with the fields:</p><ul><li><strong><code>id</code></strong> is the name/identifier of the node.</li><li><strong><code>𝒫::Vector{&lt;:Resource}</code></strong> are the <code>[</code>Resource`](@ref)s.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/node.jl#L257-L271">source</a></section></article><h3 id="lib-pub-nodes-stor_behav"><a class="docs-heading-anchor" href="#lib-pub-nodes-stor_behav">Storage behaviours</a><a id="lib-pub-nodes-stor_behav-1"></a><a class="docs-heading-anchor-permalink" href="#lib-pub-nodes-stor_behav" title="Permalink"></a></h3><p><code>EnergyModelsBase</code> provides several different storage behaviours for calculating the level balance of a <code>Storage</code> node. In general, the concrete storage behaviours are ready to use and should account for all eventualities.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.Accumulating" href="#EnergyModelsBase.Accumulating"><code>EnergyModelsBase.Accumulating</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p><code>Accumulating</code> as supertype for an accumulating storage level.</p><p>Accumulating storage behaviour implies that the change in the overall storage level in a strategic period can be both positive or negative.</p><p>Examples for potential usage of <code>Accumulating</code> are CO₂ storages in which the CO₂ is permanently stored or multi year hydropower magazines.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/node.jl#L13-L21">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.AccumulatingEmissions" href="#EnergyModelsBase.AccumulatingEmissions"><code>EnergyModelsBase.AccumulatingEmissions</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">AccumulatingEmissions &lt;: Accumulating</code></pre><p><code>StorageBehavior</code> which accumulates all inflow witin a strategic period. <code>AccumulatingEmissions</code> allows as well to serve as a <a href="#EnergyModelsBase.ResourceEmit"><code>ResourceEmit</code></a> emission point to represent a soft constraint on storing the captured emissions.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/node.jl#L32-L38">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.Cyclic" href="#EnergyModelsBase.Cyclic"><code>EnergyModelsBase.Cyclic</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p><code>Cyclic</code> as supertype for a cyclic storage level.</p><p>Cyclic storage behaviour implies that the change in the overall storage level in a strategic period behaves cyclic.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/node.jl#L24-L29">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.CyclicRepresentative" href="#EnergyModelsBase.CyclicRepresentative"><code>EnergyModelsBase.CyclicRepresentative</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">CyclicRepresentative &lt;: Cyclic</code></pre><p><code>StorageBehavior</code> in which cyclic behaviour is achieved within the lowest time structure excluding operational times.</p><p>In the case of <code>TwoLevel{SimpleTimes}</code>, this approach is similar to <code>CyclicStrategic</code>. In the case of <code>TwoLevel{RepresentativePeriods{SimpleTimes}}</code>, this approach differs from <code>CyclicStrategic</code> as the cyclic constraint is enforeced within each representative period.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/node.jl#L41-L50">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.CyclicStrategic" href="#EnergyModelsBase.CyclicStrategic"><code>EnergyModelsBase.CyclicStrategic</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">CyclicStrategic &lt;: Cyclic</code></pre><p><code>StorageBehavior</code> in which the the cyclic behaviour is achieved within a strategic period. This implies that the initial level in individual representative periods can be different when using <code>RepresentativePeriods</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/node.jl#L53-L59">source</a></section></article><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>We have not yet supported upper and lower bound constraints in the case of using <code>OperationalScenarios</code>. While the calculation of the overall level balance and the operational costs is consistent, it can happen that the upper and lower bound of the storage level is violated.</p><p>This impacts specifically <code>CyclicStrategic</code>.</p></div></div><h3 id="lib-pub-nodes-stor_par"><a class="docs-heading-anchor" href="#lib-pub-nodes-stor_par">Storage parameters</a><a id="lib-pub-nodes-stor_par-1"></a><a class="docs-heading-anchor-permalink" href="#lib-pub-nodes-stor_par" title="Permalink"></a></h3><p>Storage parameters are used for describing different parameters for the idnividual capacities of a <code>Storage</code> node. In practice, <code>Storage</code> nodes can have three different capacities:</p><ol><li>charge, that is a capacity for charging the <code>Storage</code> node,</li><li>level, that is the amount of energy/mass that can be stored, and</li><li>discharge, that is a capacity for discharging the <code>Storage</code> node.</li></ol><p>In general, each of the individual capacities can have an assigned capacity, variable OPEX, and fixed OPEX. Furthermore, it is possible to only have a variable OPEX. To this end, multiple composite types are defined.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.StorCapOpex" href="#EnergyModelsBase.StorCapOpex"><code>EnergyModelsBase.StorCapOpex</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">StorCapOpex &lt;: AbstractStorageParameters</code></pre><p>A storage parameter type for including a capacity as well as variable and fixed operational expenditures.</p><p><strong>Fields</strong></p><ul><li><strong><code>capacity::TimeProfile</code></strong> is the installed capacity.</li><li><strong><code>opex_var::TimeProfile</code></strong> is the variable operating expense per energy unit.</li><li><strong><code>opex_fixed::TimeProfile</code></strong> is the fixed operating expense.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/node.jl#L71-L81">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.StorCap" href="#EnergyModelsBase.StorCap"><code>EnergyModelsBase.StorCap</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">StorCap &lt;: AbstractStorageParameters</code></pre><p>A storage parameter type for including only a capacity. This implies that neither the usage of the <code>Storage</code>, nor the installed capacity have a direct impact on the objective function.</p><p><strong>Fields</strong></p><ul><li><strong><code>capacity::TimeProfile</code></strong> is the installed capacity.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/node.jl#L88-L96">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.StorCapOpexVar" href="#EnergyModelsBase.StorCapOpexVar"><code>EnergyModelsBase.StorCapOpexVar</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">StorCap &lt;: AbstractStorageParameters</code></pre><p>A storage parameter type for including a capacity and variable operational expenditures. This implies that the installed capacity has no direct impact on the objective function.</p><p><strong>Fields</strong></p><ul><li><strong><code>capacity::TimeProfile</code></strong> is the installed capacity.</li><li><strong><code>opex_var::TimeProfile</code></strong> is the variable operating expense per energy unit.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/node.jl#L101-L110">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.StorCapOpexFixed" href="#EnergyModelsBase.StorCapOpexFixed"><code>EnergyModelsBase.StorCapOpexFixed</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">StorCapOpexFixed &lt;: AbstractStorageParameters</code></pre><p>A storage parameter type for including a capacity and fixed operational expenditures. This implies that the installed capacity has no direct impact on the objective function.</p><p><strong>Fields</strong></p><ul><li><strong><code>capacity::TimeProfile</code></strong> is the installed capacity.</li><li><strong><code>opex_fixed::TimeProfile</code></strong> is the fixed operating expense.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/node.jl#L116-L125">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.StorOpexVar" href="#EnergyModelsBase.StorOpexVar"><code>EnergyModelsBase.StorOpexVar</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">StorCap &lt;: AbstractStorageParameters</code></pre><p>A storage parameter type for including variable operational expenditures. This implies that the charge or discharge rate do not have a capacity and the <code>Storage</code> level can be used within a single <code>TimePeriod</code>.</p><p>This type can only be used for the fields <code>charge</code> and <code>discharge</code>.</p><p><strong>Fields</strong></p><ul><li><strong><code>opex_var::TimeProfile</code></strong> is the variable operating expense per energy unit.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/node.jl#L131-L142">source</a></section></article><p>When dispatching on the individual type, it is also possible to use the following unions:</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.UnionOpexFixed" href="#EnergyModelsBase.UnionOpexFixed"><code>EnergyModelsBase.UnionOpexFixed</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">UnionOpexFixed</code></pre><p>Union for simpler dispatching for storage parameters that include fixed OPEX.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/node.jl#L147-L151">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.UnionOpexVar" href="#EnergyModelsBase.UnionOpexVar"><code>EnergyModelsBase.UnionOpexVar</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">UnionOpexVar</code></pre><p>Union for simpler dispatching for storage parameters that include variable OPEX.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/node.jl#L154-L158">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.UnionCapacity" href="#EnergyModelsBase.UnionCapacity"><code>EnergyModelsBase.UnionCapacity</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">UnionCapacity</code></pre><p>Union for simpler dispatching for storage parameters that include a capacity.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/node.jl#L161-L165">source</a></section></article><h3 id="lib-pub-nodes-fun_field"><a class="docs-heading-anchor" href="#lib-pub-nodes-fun_field">Functions for accessing fields of <code>Node</code> types</a><a id="lib-pub-nodes-fun_field-1"></a><a class="docs-heading-anchor-permalink" href="#lib-pub-nodes-fun_field" title="Permalink"></a></h3><p>The following functions are declared for accessing fields from a <code>Node</code> type.</p><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>If you want to introduce new <code>Node</code> types, it is important that these functions are either functional for your new types or you have to declare corresponding functions. The first approach can be achieved through using the same name for the respective fields.</p><p>The functions <code>storage_resource</code> is only required for <code>Storage</code> nodes, when you plan to use the implemented constraint function <code>constraints_flow_in</code>. The functions <code>surplus_penalty</code> and <code>deficit_penalty</code> are only required for <code>Sink</code> nodes if you plan to use the implemented constraint function <code>constraints_opex_var</code>.</p></div></div><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.capacity" href="#EnergyModelsBase.capacity"><code>EnergyModelsBase.capacity</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">capacity(n::Node)</code></pre><p>Returns the capacity of a node <code>n</code> as <code>TimeProfile</code>. The capacity is not directly defined for <code>Storage</code> nodes. Instead, it is necessary to call the function on the respective field, see <a href="#EnergyModelsBase.capacity"><code>capacity(stor_par::AbstractStorageParameters)</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/node.jl#L561-L567">source</a></section><section><div><pre><code class="language-julia hljs">capacity(stor_par::AbstractStorageParameters)</code></pre><p>Returns the capacity of storage parameter <code>stor_par</code> as <code>TimeProfile</code>. The individual storage parameters of a <code>Storage</code> node can be accessed through the functions <a href="#EnergyModelsBase.charge"><code>charge(n)</code></a>, <a href="#EnergyModelsBase.level"><code>level(n)</code></a>, and <a href="#EnergyModelsBase.discharge"><code>discharge(n)</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/node.jl#L569-L575">source</a></section><section><div><pre><code class="language-julia hljs">capacity(n::Node, t)</code></pre><p>Returns the capacity of a node <code>n</code> at operational period <code>t</code>. The capacity is not directly defined for <code>Storage</code> nodes. Instead, it is necessary to call the function on the respective field, see <a href="#EnergyModelsBase.capacity"><code>capacity(stor_par::AbstractStorageParameters, t)</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/node.jl#L578-L584">source</a></section><section><div><pre><code class="language-julia hljs">capacity(stor_par::AbstractStorageParameters, t)</code></pre><p>Returns the capacity of storage parameter <code>stor_par</code> at operational period <code>t</code>. The individual storage parameters of a <code>Storage</code> node can be accessed through the functions <a href="#EnergyModelsBase.charge"><code>charge(n)</code></a>, <a href="#EnergyModelsBase.level"><code>level(n)</code></a>, and <a href="#EnergyModelsBase.discharge"><code>discharge(n)</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/node.jl#L586-L592">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.opex_var" href="#EnergyModelsBase.opex_var"><code>EnergyModelsBase.opex_var</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">opex_var(n::Node)</code></pre><p>Returns the variable OPEX of a node <code>n</code> as <code>TimeProfile</code>. The variable OPEX is not directly defined for <code>Storage</code> nodes. Instead, it is necessary to call the function on the respective field, see <a href="#EnergyModelsBase.opex_var"><code>opex_var(stor_par::AbstractStorageParameters)</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/node.jl#L648-L654">source</a></section><section><div><pre><code class="language-julia hljs">opex_var(stor_par::UnionOpexVar)</code></pre><p>Returns the variable OPEX of storage parameter <code>stor_par</code> as <code>TimeProfile</code>. The individual storage parameters of a <code>Storage</code> node can be accessed through the functions <a href="#EnergyModelsBase.charge"><code>charge(n)</code></a>, <a href="#EnergyModelsBase.level"><code>level(n)</code></a>, and <a href="#EnergyModelsBase.discharge"><code>discharge(n)</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/node.jl#L656-L662">source</a></section><section><div><pre><code class="language-julia hljs">opex_var(n::Node, t)</code></pre><p>Returns the variable OPEX of a node <code>n</code> in operational period <code>t</code>. The variable OPEX is not directly defined for <code>Storage</code> nodes. Instead, it is necessary to call the function on the respective field, see <a href="#EnergyModelsBase.opex_var"><code>opex_var(stor_par::AbstractStorageParameters, t)</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/node.jl#L664-L670">source</a></section><section><div><pre><code class="language-julia hljs">opex_var(stor_par::UnionOpexVar, t)</code></pre><p>Returns the variable OPEX of storage parameter <code>stor_par</code> at operational period <code>t</code>. The individual storage parameters of a <code>Storage</code> node can be accessed through the functions <a href="#EnergyModelsBase.charge"><code>charge(n)</code></a>, <a href="#EnergyModelsBase.level"><code>level(n)</code></a>, and <a href="#EnergyModelsBase.discharge"><code>discharge(n)</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/node.jl#L672-L678">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.opex_fixed" href="#EnergyModelsBase.opex_fixed"><code>EnergyModelsBase.opex_fixed</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">opex_fixed(n::Node)</code></pre><p>Returns the fixed OPEX of a node <code>n</code> as <code>TimeProfile</code>. The fixed OPEX is not directly defined for <code>Storage</code> nodes. Instead, it is necessary to call the function on the respective field, see <a href="#EnergyModelsBase.opex_fixed"><code>opex_fixed(stor_par::AbstractStorageParameters)</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/node.jl#L681-L687">source</a></section><section><div><pre><code class="language-julia hljs">opex_fixed(stor_par::UnionOpexFixed)</code></pre><p>Returns the fixed OPEX of storage parameter <code>stor_par</code> as <code>TimeProfile</code>. The individual storage parameters of a <code>Storage</code> node can be accessed through the functions <a href="#EnergyModelsBase.charge"><code>charge(n)</code></a>, <a href="#EnergyModelsBase.level"><code>level(n)</code></a>, and <a href="#EnergyModelsBase.discharge"><code>discharge(n)</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/node.jl#L689-L695">source</a></section><section><div><pre><code class="language-julia hljs">opex_fixed(n::Node, t_inv)</code></pre><p>Returns the fixed OPEX of a node <code>n</code> at strategic period <code>t_inv</code>. The fixed OPEX is not directly defined for <code>Storage</code> nodes. Instead, it is necessary to call the function on the respective field, see <a href="#EnergyModelsBase.opex_fixed"><code>opex_fixed(stor_par::AbstractStorageParameters, t)</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/node.jl#L697-L703">source</a></section><section><div><pre><code class="language-julia hljs">opex_fixed(stor_par::UnionOpexFixed, t)</code></pre><p>Returns the fixed OPEX of storage parameter <code>stor_par</code> at operational period <code>t</code>. The individual storage parameters of a <code>Storage</code> node can be accessed through the functions <a href="#EnergyModelsBase.charge"><code>charge(n)</code></a>, <a href="#EnergyModelsBase.level"><code>level(n)</code></a>, and <a href="#EnergyModelsBase.discharge"><code>discharge(n)</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/node.jl#L705-L711">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.inputs" href="#EnergyModelsBase.inputs"><code>EnergyModelsBase.inputs</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">inputs(n::Node)</code></pre><p>Returns the input resources of a node <code>n</code>. These resources are specified via the field <code>input</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/node.jl#L595-L600">source</a></section><section><div><pre><code class="language-julia hljs">inputs(n::Node, p::Resource)</code></pre><p>Returns the value of an input resource <code>p</code> of a node <code>n</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/node.jl#L605-L609">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.outputs" href="#EnergyModelsBase.outputs"><code>EnergyModelsBase.outputs</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">outputs(n::Node)</code></pre><p>Returns the output resources of a node <code>n</code>. These resources are specified via the field <code>output</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/node.jl#L614-L619">source</a></section><section><div><pre><code class="language-julia hljs">outputs(n::Node, p::Resource)</code></pre><p>Returns the value of an output resource <code>p</code> of a node <code>n</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/node.jl#L624-L628">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.node_data" href="#EnergyModelsBase.node_data"><code>EnergyModelsBase.node_data</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">node_data(n::Node)</code></pre><p>Returns the <code>Data</code> array of node <code>n</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/node.jl#L633-L637">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.charge" href="#EnergyModelsBase.charge"><code>EnergyModelsBase.charge</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">charge(n::Storage)</code></pre><p>Returns the parameter type of the <code>charge</code> field of the node. If the node has no field <code>charge</code>, it returns <code>nothing</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/node.jl#L469-L474">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.level" href="#EnergyModelsBase.level"><code>EnergyModelsBase.level</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">level(n::Storage)</code></pre><p>Returns the parameter type of the <code>level</code> field of the node.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/node.jl#L540-L544">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.discharge" href="#EnergyModelsBase.discharge"><code>EnergyModelsBase.discharge</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">discharge(n::Storage)</code></pre><p>Returns the parameter type of the <code>discharge</code> field of the node. If the node has no field <code>discharge</code>, it returns <code>nothing</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/node.jl#L508-L513">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.storage_resource" href="#EnergyModelsBase.storage_resource"><code>EnergyModelsBase.storage_resource</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">storage_resource(n::Storage)</code></pre><p>Returns the storage resource of <code>Storage</code> node <code>n</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/node.jl#L641-L645">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.surplus_penalty" href="#EnergyModelsBase.surplus_penalty"><code>EnergyModelsBase.surplus_penalty</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">surplus_penalty(n::Sink)</code></pre><p>Returns the surplus penalty of sink <code>n</code> as <code>TimeProfile</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/node.jl#L714-L717">source</a></section><section><div><pre><code class="language-julia hljs">surplus_penalty(n::Sink, t)</code></pre><p>Returns the surplus penalty of sink <code>n</code> at operational period <code>t</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/node.jl#L719-L722">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.deficit_penalty" href="#EnergyModelsBase.deficit_penalty"><code>EnergyModelsBase.deficit_penalty</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">deficit_penalty(n::Sink)</code></pre><p>Returns the deficit penalty of sink <code>n</code> as <code>TimeProfile</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/node.jl#L725-L728">source</a></section><section><div><pre><code class="language-julia hljs">deficit_penalty(n::Sink, t)</code></pre><p>Returns the deficit penalty of sink <code>n</code> at operational period <code>t</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/node.jl#L730-L733">source</a></section></article><h3 id="lib-pub-nodes-fun_identify"><a class="docs-heading-anchor" href="#lib-pub-nodes-fun_identify">Functions for identifying <code>Node</code>s</a><a id="lib-pub-nodes-fun_identify-1"></a><a class="docs-heading-anchor-permalink" href="#lib-pub-nodes-fun_identify" title="Permalink"></a></h3><p>The following functions are declared for filtering on <code>Node</code> types.</p><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>If you want to introduce new <code>Node</code> types, it is important that the functions <code>has_input</code>, <code>has_output</code>, and <code>has_emissions</code> are either functional for your new types or you have to declare corresponding functions. The first approach can be achieved through using the same name for the respective fields.</p><p>The functions <code>nodes_input</code>, <code>nodes_output</code>, and <code>nodes_emissions</code> are not used in the model as they are replaced by the build in filter function as, <em>e.g.</em>, <code>filter(has_input, 𝒩)</code>. In practice, they provide a pre-defined approach for filtering nodes and do not require additional modifications. They can be used in potential extensions.</p></div></div><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.nodes_input" href="#EnergyModelsBase.nodes_input"><code>EnergyModelsBase.nodes_input</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">nodes_input(𝒩::Array{&lt;:Node}, sub)</code></pre><p>Returns nodes that have an input, i.e., <code>Sink</code> and <code>NetworkNode</code> nodes.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/node.jl#L431-L435">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.nodes_output" href="#EnergyModelsBase.nodes_output"><code>EnergyModelsBase.nodes_output</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">nodes_output(𝒩::Array{&lt;:Node})</code></pre><p>Returns nodes that have an output, i.e., <code>Source</code> and <code>NetworkNode</code> nodes.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/node.jl#L446-L450">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.nodes_emissions" href="#EnergyModelsBase.nodes_emissions"><code>EnergyModelsBase.nodes_emissions</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">has_emissions(𝒩::Array{&lt;:Node})</code></pre><p>Returns nodes that have emission data for a given Array <code>::Array{&lt;:Node}</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/node.jl#L403-L407">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.has_input" href="#EnergyModelsBase.has_input"><code>EnergyModelsBase.has_input</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">has_input(n::Node)</code></pre><p>Returns logic whether the node is an input node, i.e., <code>Sink</code> and <code>NetworkNode</code> nodes.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/node.jl#L438-L442">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.has_output" href="#EnergyModelsBase.has_output"><code>EnergyModelsBase.has_output</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">has_output(n::Node)</code></pre><p>Returns logic whether the node is an output node, i.e., <code>Source</code> and <code>NetworkNode</code> nodes.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/node.jl#L453-L457">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.has_emissions" href="#EnergyModelsBase.has_emissions"><code>EnergyModelsBase.has_emissions</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">has_emissions(n::Node)</code></pre><p>Checks whether the Node <code>n</code> has emissions.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/node.jl#L394-L398">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.has_charge" href="#EnergyModelsBase.has_charge"><code>EnergyModelsBase.has_charge</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">has_charge(n::Storage)</code></pre><p>Returns logic whether the node has a <code>charge</code> field allowing for restrictions and/or costs on the (installed) charging rate.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/node.jl#L461-L466">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.has_discharge" href="#EnergyModelsBase.has_discharge"><code>EnergyModelsBase.has_discharge</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">has_discharge(n::Storage)</code></pre><p>Returns logic whether the node has a <code>discharge</code> field allowing for restrictions and/or costs on the (installed) discharging rate.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/node.jl#L500-L505">source</a></section></article><h2 id="lib-pub-links"><a class="docs-heading-anchor" href="#lib-pub-links">Links</a><a id="lib-pub-links-1"></a><a class="docs-heading-anchor-permalink" href="#lib-pub-links" title="Permalink"></a></h2><p><code>Link</code>s are connecting the individual <code>Node</code>s for the exchange of energy/mass. <code>Link</code>s are directional, that is transport of mass/energy is only allowed in a single direction.</p><h3 id="lib-pub-links-types"><a class="docs-heading-anchor" href="#lib-pub-links-types"><code>Link</code> types</a><a id="lib-pub-links-types-1"></a><a class="docs-heading-anchor-permalink" href="#lib-pub-links-types" title="Permalink"></a></h3><p>The following types for links are implemented in <code>EnergyModelsBase</code>. The thought process is to dispatch on the <a href="../internals/reference/#EnergyModelsBase.Formulation"><code>EMB.Formulation</code></a> of a link as additional option. This is in the current stage not implemented.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.Link" href="#EnergyModelsBase.Link"><code>EnergyModelsBase.Link</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Declaration of the general type for links connecting nodes.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/link.jl#L7">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.Direct" href="#EnergyModelsBase.Direct"><code>EnergyModelsBase.Direct</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p><code>Direct &lt;: Link</code></p><p>A direct link between two nodes.</p><p><strong>Fields</strong></p><ul><li><strong><code>id</code></strong> is the name/identifier of the link.</li><li><strong><code>from::Node</code></strong> is node from which there is flow into the link.</li><li><strong><code>to::Node</code></strong> is node to which there is flow out of the link.</li><li><strong><code>formulation::Formulation</code></strong> is the used formulation of links. If not specified, a <code>Linear</code> link is assumed.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/link.jl#L11-L23">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.Linear" href="#EnergyModelsBase.Linear"><code>EnergyModelsBase.Linear</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Linear <code>Formulation</code>, that is input equals output.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/link.jl#L4">source</a></section></article><h3 id="lib-pub-fun_field"><a class="docs-heading-anchor" href="#lib-pub-fun_field">Functions for accessing fields of <code>Link</code> types</a><a id="lib-pub-fun_field-1"></a><a class="docs-heading-anchor-permalink" href="#lib-pub-fun_field" title="Permalink"></a></h3><p>The following functions are declared for accessing fields from a <code>Link</code> type.</p><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>If you want to introduce new <code>Link</code> types, it is important that the function <code>formulation</code> is either functional for your new types or you have to declare a corresponding function. The first approach can be achieved through using the same name for the respective fields.</p></div></div><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.formulation" href="#EnergyModelsBase.formulation"><code>EnergyModelsBase.formulation</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">formulation(l::Link)</code></pre><p>Return the formulation of a Link ´l´.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/link.jl#L48-L52">source</a></section></article><h2 id="lib-pub-mod_data"><a class="docs-heading-anchor" href="#lib-pub-mod_data">Model and data</a><a id="lib-pub-mod_data-1"></a><a class="docs-heading-anchor-permalink" href="#lib-pub-mod_data" title="Permalink"></a></h2><h3 id="lib-pub-mod_data-types"><a class="docs-heading-anchor" href="#lib-pub-mod_data-types"><code>EnergyModel</code> and <code>Data</code> types</a><a id="lib-pub-mod_data-types-1"></a><a class="docs-heading-anchor-permalink" href="#lib-pub-mod_data-types" title="Permalink"></a></h3><p>The type <code>EnergyModel</code> is used for creating the global parameters of a model. It can be as well used for extending <code>EnergyModelsBase</code> as described in the section <em><a href="../../manual/philosophy/#man-phil-ext">Extensions to the model</a></em>. <code>EnergyModelsBase</code> provides an <code>OperationalModel</code> for analyses with given capacities. <code>OperationalModel</code> contains some key information for the model such as the emissions limits and penalties for each <code>ResourceEmit</code>, as well as the <code>ResourceEmit</code> instance of CO₂.</p><p>Including the extension <a href="https://energymodelsx.github.io/EnergyModelsInvestments.jl/"><code>EnergyModelsInvestments</code></a> results in the declaration of the types <code>AbstractInvestmentModel</code> and <code>InvestmentModel</code> which can be used for creating models with investments It takes as additional input the <code>discount_rate</code>. The <code>discount_rate</code> is an important element of investment analysis needed to represent the present value of future cash flows. It is provided to the model as a value between 0 and 1 (<em>e.g.</em> a discount rate of 5 % is 0.05).</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.EnergyModel" href="#EnergyModelsBase.EnergyModel"><code>EnergyModelsBase.EnergyModel</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Abstract type for differentation between types of models (investment, operational, ...).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/model.jl#L1">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.OperationalModel" href="#EnergyModelsBase.OperationalModel"><code>EnergyModelsBase.OperationalModel</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">OperationalModel &lt;: EnergyModel</code></pre><p>Operational Energy Model without investments.</p><p><strong>Fields</strong></p><ul><li><strong><code>emission_limit::Dict{&lt;:ResourceEmit, &lt;:TimeProfile}</code></strong> is a dictionary with individual emission limits as <code>TimeProfile</code> for each emission resource <a href="#EnergyModelsBase.ResourceEmit"><code>ResourceEmit</code></a>.</li><li><strong><code>emission_price::Dict{&lt;:ResourceEmit, &lt;:TimeProfile}</code></strong> are the prices for the different considered emission resources <a href="#EnergyModelsBase.ResourceEmit"><code>ResourceEmit</code></a>.</li><li><strong><code>co2_instance</code></strong> is a <a href="#EnergyModelsBase.ResourceEmit"><code>ResourceEmit</code></a> and corresponds to the type used for CO₂.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/model.jl#L4-L15">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.AbstractInvestmentModel" href="#EnergyModelsBase.AbstractInvestmentModel"><code>EnergyModelsBase.AbstractInvestmentModel</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">AbstractInvestmentModel &lt;: EnergyModel</code></pre><p>An abstract investment model type.</p><p>This abstract model type should be used when creating additional <a href="#EnergyModelsBase.EnergyModel"><code>EnergyModel</code></a> types that should utilize investments.</p><p>An example for additional types is given by the inclusion of, <em>e.g.</em>, <code>SDDP</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/model.jl#L77-L86">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.InvestmentModel" href="#EnergyModelsBase.InvestmentModel"><code>EnergyModelsBase.InvestmentModel</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">InvestmentModel &lt;: AbstractInvestmentModel</code></pre><p>A concrete basic investment model type based on the standard <a href="#EnergyModelsBase.OperationalModel"><code>OperationalModel</code></a>. The concrete basic investment model is similar to an <code>OperationalModel</code>, but allows for investments and additional discounting of future years.</p><p><strong>Fields</strong></p><ul><li><strong><code>emission_limit::Dict{&lt;:ResourceEmit, &lt;:TimeProfile}</code></strong> are the emission caps for the different emissions types considered.</li><li><strong><code>emission_price::Dict{&lt;:ResourceEmit, &lt;:TimeProfile}</code></strong> are the prices for the different emissions types considered.</li><li><strong><code>co2_instance</code></strong> is a <a href="#EnergyModelsBase.ResourceEmit"><code>ResourceEmit</code></a> and corresponds to the type used for CO₂.</li><li><strong><code>r::Float64</code></strong> is the discount rate in the investment optimization.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/model.jl#L89-L103">source</a></section></article><p>In addition, the following <code>Data</code> types are introduced for introducing additional parameters, variables, and constraints to the <code>Node</code>s. The approach of using the <code>data</code> field of <code>Node</code>s is explained on the page <em><a href="../../manual/data-functions/#man-data_fun">Data functions</a></em>. <code>EmptyData</code> is no longer relevant for the modelling, but it is retained for avoiding any problems with existing models.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.Data" href="#EnergyModelsBase.Data"><code>EnergyModelsBase.Data</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Abstract type used to define concrete struct containing the package specific elements to add to the composite type defined in this package.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/data.jl#L1-L3">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.EmptyData" href="#EnergyModelsBase.EmptyData"><code>EnergyModelsBase.EmptyData</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Empty composite type for <code>Data</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/data.jl#L4">source</a></section></article><h3 id="lib-pub-fun_field_model"><a class="docs-heading-anchor" href="#lib-pub-fun_field_model">Functions for accessing fields of <code>EnergyModel</code> types</a><a id="lib-pub-fun_field_model-1"></a><a class="docs-heading-anchor-permalink" href="#lib-pub-fun_field_model" title="Permalink"></a></h3><p>The following functions are declared for accessing fields from a <code>EnergyModel</code> type.</p><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>If you want to introduce new <code>EnergyModel</code> types, it is important that the functions <code>emission_limit</code>, <code>emission_price</code>, and <code>co2_instance</code> are either functional for your new types or you have to declare corresponding functions. The first approach can be achieved through using the same name for the respective fields.</p><p>If you want to introduce new <code>AbstractInvestmentModel</code> types, you have to in additional consider the function <code>discount_rate</code>.</p></div></div><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.emission_limit" href="#EnergyModelsBase.emission_limit"><code>EnergyModelsBase.emission_limit</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">emission_limit(modeltype::EnergyModel)</code></pre><p>Returns the emission limit of EnergyModel <code>model</code> as dictionary with <code>TimeProfile</code>s for each <a href="#EnergyModelsBase.ResourceEmit"><code>ResourceEmit</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/model.jl#L22-L27">source</a></section><section><div><pre><code class="language-julia hljs">emission_limit(modeltype, p::ResourceEmit)</code></pre><p>Returns the emission limit of EnergyModel <code>model</code> and <a href="#EnergyModelsBase.ResourceEmit"><code>ResourceEmit</code></a> <code>p</code> as <code>TimeProfile</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/model.jl#L29-L34">source</a></section><section><div><pre><code class="language-julia hljs">emission_limit(modeltype, p::ResourceEmit, t_inv::TS.StrategicPeriod)</code></pre><p>Returns the emission limit of EnergyModel <code>model</code> and <a href="#EnergyModelsBase.ResourceEmit"><code>ResourceEmit</code></a> <code>p</code> in strategic period period <code>t_inv</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/model.jl#L36-L41">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.emission_price" href="#EnergyModelsBase.emission_price"><code>EnergyModelsBase.emission_price</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">emission_price(modeltype::EnergyModel)</code></pre><p>Returns the emission price of EnergyModel <code>model</code> as dictionary with <code>TimeProfile</code>s for each <a href="#EnergyModelsBase.ResourceEmit"><code>ResourceEmit</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/model.jl#L45-L50">source</a></section><section><div><pre><code class="language-julia hljs">emission_price(modeltype, p::ResourceEmit)</code></pre><p>Returns the emission price of EnergyModel <code>modeltype</code> and ResourceEmit <code>p</code> as <code>TimeProfile</code>. If no emission price is specified for the ResourceEmit <code>p</code>, the function returns 0</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/model.jl#L52-L57">source</a></section><section><div><pre><code class="language-julia hljs">emission_price(modeltype, p::ResourceEmit, t_inv::TS.StrategicPeriod)</code></pre><p>Returns the emission price of EnergyModel <code>modeltype</code> and ResourceEmit <code>p</code> in strategic period <code>t_inv</code>. If no emission price is specified for the ResourceEmit <code>p</code>, the function returns 0</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/model.jl#L60-L66">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.co2_instance" href="#EnergyModelsBase.co2_instance"><code>EnergyModelsBase.co2_instance</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">co2_instance(modeltype::EnergyModel)</code></pre><p>Returns the CO₂ instance used in modelling.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/model.jl#L70-L74">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.discount_rate" href="#EnergyModelsBase.discount_rate"><code>EnergyModelsBase.discount_rate</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">discount_rate(modeltype::AbstractInvestmentModel)</code></pre><p>Returns the discount rate of <code>AbstractInvestmentModel</code> modeltype.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/model.jl#L106-L110">source</a></section></article><h2 id="lib-pub-fun_run"><a class="docs-heading-anchor" href="#lib-pub-fun_run">Functions for running the model</a><a id="lib-pub-fun_run-1"></a><a class="docs-heading-anchor-permalink" href="#lib-pub-fun_run" title="Permalink"></a></h2><p>The following functions are provided for both creating a model using <code>EnergyModelsBase</code> and solving said model. Both functions have the input <code>case</code> and <code>model</code>. <code>run_model</code> calls <code>create_model</code> in the function, hence, it is not necessary to call the function beforehand.</p><p>The <code>case</code> dictionary has to follow a certain outline. In this case, it is simplest to look at the provided <em><a href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/tree/main/examples">examples</a></em>.</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>We are currently debating to replace the dictionary used for <code>case</code> as well with a composite type.</p></div></div><p>This will lead to breacking changes, but should be simple to adjust for.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.create_model" href="#EnergyModelsBase.create_model"><code>EnergyModelsBase.create_model</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">create_model(case, modeltype::EnergyModel, m::JuMP.Model; check_timeprofiles::Bool=true)</code></pre><p>Create the model and call all required functions.</p><p><strong>Input</strong></p><ul><li><code>case</code> - The case dictionary requiring the keys <code>:T</code>, <code>:nodes</code>, <code>:links</code>, and <code>products</code>. If the input is not provided in the correct form, the checks will identify the problem.</li><li><code>modeltype</code> - Used modeltype, that is a subtype of the type <code>EnergyModel</code>.</li><li><code>m</code> - the empty <code>JuMP.Model</code> instance. If it is not provided, then it is assumed that the input is a standard <code>JuMP.Model</code>.</li></ul><p><strong>Conditional input</strong></p><ul><li><code>check_timeprofiles=true</code> - A boolean indicator whether the time profiles of the individual nodes should be checked or not. It is advised to not deactivate the check, except if you are testing new components. It may lead to unexpected behaviour and potential inconsistencies in the input data, if the time profiles are not checked.</li><li><code>check_any_data::Bool=true</code> - A boolean indicator whether the input data is checked or not. It is advised to not deactivate the check, except if you are testing new features. It may lead to unexpected behaviour and even infeasible models.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/model.jl#L1-L21">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.run_model" href="#EnergyModelsBase.run_model"><code>EnergyModelsBase.run_model</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">run_model(case::Dict, model::EnergyModel, optimizer)</code></pre><p>Take the <code>case</code> data as a dictionary and the <code>model</code> and build and optimize the model. Returns the solved JuMP model.</p><p>The dictionary requires the keys:</p><ul><li><code>:nodes::Vector{Node}</code></li><li><code>:links::Vector{Link}</code></li><li><code>:products::Vector{Resource}</code></li><li><code>:T::TimeStructure</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/utils.jl#L1-L12">source</a></section></article><h2 id="lib-pub-fun_ext"><a class="docs-heading-anchor" href="#lib-pub-fun_ext">Functions for extending the model</a><a id="lib-pub-fun_ext-1"></a><a class="docs-heading-anchor-permalink" href="#lib-pub-fun_ext" title="Permalink"></a></h2><p>The following functions are used for developing new nodes. See the page <em><a href="../../how-to/create-new-node/#how_to-create_node">Creating a new node</a></em> for a detailed explanation on how to create a new node.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.variables_node" href="#EnergyModelsBase.variables_node"><code>EnergyModelsBase.variables_node</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>&quot;     variables_node(m, 𝒩ˢᵘᵇ::Vector{&lt;:Node}, 𝒯, modeltype::EnergyModel)</p><p>Default fallback method when no function is defined for a node type.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/model.jl#L234-L239">source</a></section><section><div><pre><code class="language-julia hljs">variables_node(m, 𝒩ˢⁱⁿᵏ::Vector{&lt;:Sink}, 𝒯, modeltype::EnergyModel)</code></pre><p>Declaration of both surplus (<code>:sink_surplus</code>) and deficit (<code>:sink_deficit</code>) variables for <code>Sink</code> nodes <code>𝒩ˢⁱⁿᵏ</code> to quantify when there is too much or too little energy for satisfying the demand.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/model.jl#L241-L247">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.create_node" href="#EnergyModelsBase.create_node"><code>EnergyModelsBase.create_node</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">create_node(m, n::Source, 𝒯, 𝒫, modeltype::EnergyModel)</code></pre><p>Set all constraints for a <code>Source</code>. Can serve as fallback option for all unspecified subtypes of <code>Source</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/model.jl#L344-L349">source</a></section><section><div><pre><code class="language-julia hljs">create_node(m, n::NetworkNode, 𝒯, 𝒫, modeltype::EnergyModel)</code></pre><p>Set all constraints for a <code>NetworkNode</code>. Can serve as fallback option for all unspecified subtypes of <code>NetworkNode</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/model.jl#L371-L376">source</a></section><section><div><pre><code class="language-julia hljs">create_node(m, n::Storage, 𝒯, 𝒫, modeltype::EnergyModel)</code></pre><p>Set all constraints for a <code>Storage</code>. Can serve as fallback option for all unspecified subtypes of <code>Storage</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/model.jl#L399-L404">source</a></section><section><div><pre><code class="language-julia hljs">create_node(m, n::Sink, 𝒯, 𝒫, modeltype::EnergyModel)</code></pre><p>Set all constraints for a <code>Sink</code>. Can serve as fallback option for all unspecified subtypes of <code>Sink</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/model.jl#L425-L430">source</a></section><section><div><pre><code class="language-julia hljs">create_node(m, n::Availability, 𝒯, 𝒫, modeltype::EnergyModel)</code></pre><p>Set all constraints for a <code>Availability</code>. Can serve as fallback option for all unspecified subtypes of <code>Availability</code>.</p><p>Availability nodes can be seen as routing nodes. It is not necessary to have more than one available node except if one wants to include as well transport between different <code>Availability</code> nodes with associated costs (not implemented at the moment).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/model.jl#L452-L461">source</a></section></article><h2 id="lib-pub-fun_con"><a class="docs-heading-anchor" href="#lib-pub-fun_con">Constraint functions</a><a id="lib-pub-fun_con-1"></a><a class="docs-heading-anchor-permalink" href="#lib-pub-fun_con" title="Permalink"></a></h2><p>The following functions can be used in new developed nodes to include constraints. See the pages <em><a href="../../manual/constraint-functions/#man-con">Constraint functions</a></em> and <em><a href="../../manual/data-functions/#man-data_fun">Data functions</a></em> for a detailed explanation on their usage.</p><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>The function <code>constraints_capacity_installed</code> should not be changed. It is used for the inclusion of investments through <code>EnergyModelsInvestments</code>. It also has to be called, if you create a new function <code>constraints_capacity</code>.</p></div></div><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.constraints_flow_in" href="#EnergyModelsBase.constraints_flow_in"><code>EnergyModelsBase.constraints_flow_in</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">constraints_flow_in(m, n, 𝒯::TimeStructure, modeltype::EnergyModel)</code></pre><p>Function for creating the constraint on the inlet flow to a generic <code>Node</code>. This function serves as fallback option if no other function is specified for a <code>Node</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/constraint_functions.jl#L92-L97">source</a></section><section><div><pre><code class="language-julia hljs">constraints_flow_in(m, n::Storage, 𝒯::TimeStructure, modeltype::EnergyModel)</code></pre><p>Function for creating the constraint on the inlet flow to a generic <code>Storage</code>. This function serves as fallback option if no other function is specified for a <code>Storage</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/constraint_functions.jl#L108-L113">source</a></section><section><div><pre><code class="language-julia hljs">constraints_flow_in(m, n::Storage, 𝒯::TimeStructure, modeltype::EnergyModel)</code></pre><p>Create the constraint on the inlet flow to a generic <code>Storage</code>. This function serves as fallback option if no other function is specified for a <code>Storage</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/constraint_functions.jl#L127-L132">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.constraints_flow_out" href="#EnergyModelsBase.constraints_flow_out"><code>EnergyModelsBase.constraints_flow_out</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">constraints_flow_out(m, n::Node, 𝒯::TimeStructure, modeltype::EnergyModel)</code></pre><p>Function for creating the constraint on the outlet flow from a generic <code>Node</code>. This function serves as fallback option if no other function is specified for a <code>Node</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/constraint_functions.jl#L155-L160">source</a></section><section><div><pre><code class="language-julia hljs">constraints_flow_out(m, n::Storage, 𝒯::TimeStructure, modeltype::EnergyModel)</code></pre><p>Function for creating the constraint on the outlet flow from a generic <code>Storage</code>. This function serves as fallback option if no other function is specified for a <code>Storage</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/constraint_functions.jl#L171-L176">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.constraints_capacity" href="#EnergyModelsBase.constraints_capacity"><code>EnergyModelsBase.constraints_capacity</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">constraints_capacity(m, n::Node, 𝒯::TimeStructure, modeltype::EnergyModel)</code></pre><p>Function for creating the constraint on the maximum capacity of a generic <code>Node</code>. This function serves as fallback option if no other function is specified for a <code>Node</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/constraint_functions.jl#L1-L6">source</a></section><section><div><pre><code class="language-julia hljs">constraints_capacity(m, n::Storage, 𝒯::TimeStructure, modeltype::EnergyModel)</code></pre><p>Function for creating the constraint on the maximum level of a generic <code>Storage</code>. This function serves as fallback option if no other function is specified for a <code>Storage</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/constraint_functions.jl#L13-L18">source</a></section><section><div><pre><code class="language-julia hljs">constraints_capacity(m, n::Sink, 𝒯::TimeStructure, modeltype::EnergyModel)</code></pre><p>Function for creating the constraint on the maximum capacity of a generic <code>Sink</code>. This function serves as fallback option if no other function is specified for a <code>Sink</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/constraint_functions.jl#L34-L39">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.constraints_capacity_installed" href="#EnergyModelsBase.constraints_capacity_installed"><code>EnergyModelsBase.constraints_capacity_installed</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">EMB.constraints_capacity_installed(
    m,
    n::EMB.Node,
    𝒯::TimeStructure,
    modeltype::AbstractInvestmentModel,
)</code></pre><p>When the modeltype is an investment model, the function introduces the related constraints for the capacity expansion. The investment mode and lifetime mode are used for adding constraints.</p><p>The default function only accepts nodes with <a href="../internals/reference_EMIExt/#EMIExt.SingleInvData"><code>SingleInvData</code></a>. If you have several capacities for investments, you have to dispatch specifically on the node type. This is implemented for <code>Storage</code> nodes.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/ext/EMIExt/constraints.jl#L1-L16">source</a></section><section><div><pre><code class="language-julia hljs">EMB.constraints_capacity_installed(
    m,
    n::Storages,
    𝒯::TimeStructure,
    modeltype::AbstractInvestmentModel,
)</code></pre><p>When the modeltype is an investment model and the node is a <code>Storage</code> node, the function introduces the related constraints for the capacity expansions for the fields <code>:charge</code>, <code>:level</code>, and <code>:discharge</code>. This requires the utilization of the <a href="../internals/reference_EMIExt/#EMIExt.StorageInvData"><code>StorageInvData</code></a> investment type, in which the investment mode and lifetime mode are used for adding constraints for each capacity.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/ext/EMIExt/constraints.jl#L38-L51">source</a></section><section><div><pre><code class="language-julia hljs">constraints_capacity_installed(m, n, 𝒯::TimeStructure, modeltype::EnergyModel)</code></pre><p>Constrain the installed capacity to the available capacity.</p><p>This function should only be used to dispatch on the modeltype for providing investments. If you create new capacity variables, it is beneficial to include as well a method for this function and the corresponding node types.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/constraint_functions.jl#L49-L57">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.constraints_level" href="#EnergyModelsBase.constraints_level"><code>EnergyModelsBase.constraints_level</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">constraints_level(m, n::Storage, 𝒯, 𝒫, modeltype::EnergyModel)</code></pre><p>Function for creating the level constraint for a reference storage node with a <code>ResourceCarrier</code> resource.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/constraint_functions.jl#L188-L193">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.constraints_level_aux" href="#EnergyModelsBase.constraints_level_aux"><code>EnergyModelsBase.constraints_level_aux</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">constraints_level_aux(m, n::Storage, 𝒯, 𝒫, modeltype::EnergyModel)</code></pre><p>Create the Δ constraint for the level of a reference storage node with a <code>ResourceCarrier</code> resource.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/constraint_functions.jl#L221-L226">source</a></section><section><div><pre><code class="language-julia hljs">constraints_level_aux(m, n::RefStorage{S}, 𝒯, 𝒫, modeltype::EnergyModel)</code></pre><p>Function for creating the Δ constraint for the level of a reference storage node with a <code>ResourceEmit</code> resource.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/constraint_functions.jl#L237-L242">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.constraints_opex_var" href="#EnergyModelsBase.constraints_opex_var"><code>EnergyModelsBase.constraints_opex_var</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">constraints_opex_var(m, n::Node, 𝒯ᴵⁿᵛ, modeltype::EnergyModel)</code></pre><p>Function for creating the constraint on the variable OPEX of a generic <code>Node</code>. This function serves as fallback option if no other function is specified for a <code>Node</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/constraint_functions.jl#L624-L629">source</a></section><section><div><pre><code class="language-julia hljs">constraints_opex_var(m, n::Storage, 𝒯ᴵⁿᵛ, modeltype::EnergyModel)</code></pre><p>Function for creating the constraint on the variable OPEX of a generic <code>Storage</code>. This function serves as fallback option if no other function is specified for a <code>Storage</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/constraint_functions.jl#L637-L642">source</a></section><section><div><pre><code class="language-julia hljs">constraints_opex_var(m, n::Sink, 𝒯ᴵⁿᵛ, modeltype::EnergyModel)</code></pre><p>Function for creating the constraint on the variable OPEX of a generic <code>Sink</code>. This function serves as fallback option if no other function is specified for a <code>Sink</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/constraint_functions.jl#L685-L690">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.constraints_opex_fixed" href="#EnergyModelsBase.constraints_opex_fixed"><code>EnergyModelsBase.constraints_opex_fixed</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">constraints_opex_fixed(m, n::Node, 𝒯ᴵⁿᵛ, modeltype::EnergyModel)</code></pre><p>Function for creating the constraint on the fixed OPEX of a generic <code>Node</code>. This function serves as fallback option if no other function is specified for a <code>Node</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/constraint_functions.jl#L556-L561">source</a></section><section><div><pre><code class="language-julia hljs">constraints_opex_fixed(m, n::Storage, 𝒯ᴵⁿᵛ, modeltype::EnergyModel)</code></pre><p>Function for creating the constraint on the fixed OPEX of a generic <code>Storage</code>. This function serves as fallback option if no other function is specified for a <code>Storage</code>.</p><p>The fallback option includes fixed OPEX for <code>charge</code>, <code>level</code>, and <code>discharge</code>. The individual contributions are in all situations calculated based on the installed capacities.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/constraint_functions.jl#L568-L577">source</a></section><section><div><pre><code class="language-julia hljs">constraints_opex_fixed(m, n::Sink, 𝒯ᴵⁿᵛ, modeltype::EnergyModel)</code></pre><p>Function for creating the constraint on the fixed OPEX of a generic <code>Sink</code>. This function serves as fallback option if no other function is specified for a <code>Sink</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/constraint_functions.jl#L610-L615">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.constraints_data" href="#EnergyModelsBase.constraints_data"><code>EnergyModelsBase.constraints_data</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">constraints_data(m, n::Node, 𝒯, 𝒫, modeltype::EnergyModel, data::DataEmissions)</code></pre><p>Constraints functions for calculating both the emissions and amount of CO₂ captured in the process.</p><p>There exist several configurations:</p><ul><li><p><strong><code>EmissionsEnergy</code></strong>: Only energy usage related emissions.</p></li><li><p><strong><code>EmissionsProcess</code></strong>: Both process and energy usage related emissions.</p></li><li><p><strong><code>CaptureEnergyEmissions</code></strong>: Capture of energy usage related emissions, can include process emissions.</p></li><li><p><strong><code>CaptureProcessEmissions</code></strong>: Capture of process emissions.</p></li><li><p><strong><code>CaptureProcessEnergyEmissions</code></strong>: Capture of both process and energy usage related</p></li></ul><p>emissions.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/data_functions.jl#L1-L19">source</a></section><section><div><pre><code class="language-julia hljs">constraints_data(m, n::Node, 𝒯, 𝒫, modeltype::EnergyModel, data::Data)</code></pre><p>Fallback option when data is specified, but it is not desired to add the constraints through this function. This is, e.g., the case for <code>EnergyModelsInvestments</code> as the capacity constraint has to be replaced</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/data_functions.jl#L158-L164">source</a></section></article><p>In addition, auxiliary functions are introduced for the calculation of the previous level of storage nodes. These auxiliary functions provide the user with simple approaches for calculating the level balances.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.previous_level" href="#EnergyModelsBase.previous_level"><code>EnergyModelsBase.previous_level</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">previous_level(
    m,
    n::Storage,
    prev_pers::PreviousPeriods,
    cyclic_pers::CyclicPeriods,
    modeltype::EnergyModel,
)</code></pre><p>Returns the level used as previous level of a <code>Storage</code> node depending on the type of <a href="#EnergyModelsBase.PreviousPeriods"><code>PreviousPeriods</code></a>.</p><p>The basic functionality is used in the case when the previous operational period is a <code>TimePeriod</code>, in which case it just returns the previous operational period.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/utils.jl#L101-L115">source</a></section><section><div><pre><code class="language-julia hljs">previous_level(
    m,
    n::Storage,
    prev_pers::PreviousPeriods{&lt;:NothingPeriod, Nothing, Nothing},
    cyclic_pers::CyclicPeriods,
    modeltype::EnergyModel,
)</code></pre><p>When the previous operational and representative period are <code>Nothing</code>, the function returns the cyclic constraints within a strategic period. This is achieved through calling a subfunction <a href="#EnergyModelsBase.previous_level_sp"><code>previous_level_sp</code></a> to avoid method ambiguities.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/utils.jl#L127-L139">source</a></section><section><div><pre><code class="language-julia hljs">previous_level(
    m,
    n::Storage,
    prev_pers::PreviousPeriods{&lt;:NothingPeriod, Nothing, Nothing},
    cyclic_pers::CyclicPeriods,
    modeltype::EnergyModel,
)</code></pre><p>When the previous operational and representative period are <code>Nothing</code> and the storage node is an <a href="#EnergyModelsBase.AccumulatingEmissions"><code>AccumulatingEmissions</code></a> storage node, the function returns a value of 0.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/utils.jl#L149-L160">source</a></section><section><div><pre><code class="language-julia hljs">previous_level(
    m,
    n::Storage,
    prev_pers::PreviousPeriods{&lt;:NothingPeriod, &lt;:TS.AbstractRepresentativePeriod, Nothing},
    cyclic_pers::CyclicPeriods,
    modeltype::EnergyModel,
)</code></pre><p>When the previous operational period is <code>Nothing</code>, the previous representative period an <code>AbstractRepresentativePeriod</code> and the last period is an <code>AbstractRepresentativePeriod</code>, then the time structure <em>does</em> include <code>RepresentativePeriods</code>.</p><p>The cyclic default constraints returns the value at the end of the <em>previous</em> representative period while accounting for the number of  repetitions of the representative period.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/utils.jl#L171-L186">source</a></section><section><div><pre><code class="language-julia hljs">previous_level(
    m,
    n::Storage{CyclicRepresentative},
    prev_pers::PreviousPeriods{&lt;:NothingPeriod, &lt;:TS.AbstractRepresentativePeriod, Nothing},
    cyclic_pers::CyclicPeriods,
    modeltype::EnergyModel,
)</code></pre><p>When the previous operational period is <code>Nothing</code> and the previous representative period an <code>AbstractRepresentativePeriod</code> then the time structure <em>does</em> include <code>RepresentativePeriods</code>.</p><p>The cyclic constraint for a <a href="#EnergyModelsBase.CyclicRepresentative"><code>CyclicRepresentative</code></a> storage nodereturns the value at the end of the <em>current</em> representative period.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/utils.jl#L205-L219">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.previous_level_sp" href="#EnergyModelsBase.previous_level_sp"><code>EnergyModelsBase.previous_level_sp</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">previous_level_sp(
    m,
    n::Storage{&lt;:Cyclic},
    cyclic_pers::CyclicPeriods,
    modeltype
)</code></pre><p>Returns the previous period in the case of the first operational period (in the first representative period) of a strategic period.</p><p>The default functionality in the case of a <a href="#EnergyModelsBase.Cyclic"><code>Cyclic</code></a> storage node in a <code>TimeStructure</code> without <code>RepresentativePeriods</code> returns the last operational period in the strategic period.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/utils.jl#L231-L244">source</a></section><section><div><pre><code class="language-julia hljs">previous_level_sp(
    m,
    n::Storage{CyclicStrategic},
    cyclic_pers::CyclicPeriods{&lt;:TS.AbstractRepresentativePeriod},
    modeltype::EnergyModel,
)</code></pre><p>When a <a href="#EnergyModelsBase.CyclicStrategic"><code>CyclicStrategic</code></a> <code>Storage</code> node is coupled with a <code>TimeStructure</code> containing <code>RepresentativePeriods</code>, then the function calculates the level at the beginning of the first representative period through the changes in the level in the last representative period.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/utils.jl#L255-L267">source</a></section><section><div><pre><code class="language-julia hljs">previous_level_sp(
    m,
    n::Storage{CyclicRepresentative},
    cyclic_pers::CyclicPeriods{&lt;:TS.AbstractRepresentativePeriod},
    modeltype::EnergyModel,
)</code></pre><p>When a <a href="#EnergyModelsBase.CyclicRepresentative"><code>CyclicRepresentative</code></a> <code>Storage</code> node is coupled with a <code>TimeStructure</code> containing <code>RepresentativePeriods</code>, then the function returns the previous level as the level at the end of the current representative period.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/utils.jl#L287-L298">source</a></section></article><h2 id="lib-pub-em_data"><a class="docs-heading-anchor" href="#lib-pub-em_data">Emission data</a><a id="lib-pub-em_data-1"></a><a class="docs-heading-anchor-permalink" href="#lib-pub-em_data" title="Permalink"></a></h2><p>Emission data are used to provide the individual nodes with potential emissions. The approach is also explained on the page <em><a href="../../manual/data-functions/#man-data_fun">Data functions</a></em>.</p><h3 id="lib-pub-types"><a class="docs-heading-anchor" href="#lib-pub-types"><code>Emission</code> types</a><a id="lib-pub-types-1"></a><a class="docs-heading-anchor-permalink" href="#lib-pub-types" title="Permalink"></a></h3><p>The thought process with <code>EmissionData</code> is to provide the user with options for each individual node to include emissions and potentially capture or not. The individual types can be used for all included <em><a href="#lib-pub-nodes-ref">reference <code>Node</code>s</a></em>, although capture is not possible for <code>Sink</code> nodes due to the lack of an output.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.EmissionsData" href="#EnergyModelsBase.EmissionsData"><code>EnergyModelsBase.EmissionsData</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p><code>EmissionsData</code> as supertype for all <code>Data</code> types for emissions.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/data.jl#L31">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.CaptureData" href="#EnergyModelsBase.CaptureData"><code>EnergyModelsBase.CaptureData</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p><code>CaptureData</code> as supertype for all <code>EmissionsData</code> that include CO₂ capture.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/data.jl#L33">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.EmissionsEnergy" href="#EnergyModelsBase.EmissionsEnergy"><code>EnergyModelsBase.EmissionsEnergy</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">EmissionsEnergy{T} &lt;: EmissionsData{T}</code></pre><p>No capture, no process emissions are present. Does not require <code>co2_capture</code> or <code>emissions</code> as input, but accepts it and will ignore it, if provided.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/data.jl#L97-L102">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.EmissionsProcess" href="#EnergyModelsBase.EmissionsProcess"><code>EnergyModelsBase.EmissionsProcess</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">EmissionsProcess{T} &lt;: EmissionsData{T}</code></pre><p>No capture, but process emissions are present. Does not require <code>co2_capture</code> as input, but accepts it and will ignore it, if provided.</p><p><strong>Fields</strong></p><ul><li><strong><code>emissions::Dict{ResourceEmit, T}</code></strong>: emissions per unit produced.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/data.jl#L81-L89">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.CaptureEnergyEmissions" href="#EnergyModelsBase.CaptureEnergyEmissions"><code>EnergyModelsBase.CaptureEnergyEmissions</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">CaptureEnergyEmissions{T} &lt;: CaptureData{T}</code></pre><p>Capture the energy usage related emissions, but not the process emissions. Does not require <code>emissions</code> as input, but can be supplied.</p><p><strong>Fields</strong></p><ul><li><strong><code>emissions::Dict{ResourceEmit, T}</code></strong> are the process emissions per unit produced.</li><li><strong><code>co2_capture::Float64</code></strong> is the CO₂ capture rate.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/data.jl#L64-L73">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.CaptureProcessEmissions" href="#EnergyModelsBase.CaptureProcessEmissions"><code>EnergyModelsBase.CaptureProcessEmissions</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">CaptureProcessEmissions{T} &lt;: CaptureData{T}</code></pre><p>Capture the process emissions, but not the energy usage related emissions.</p><p><strong>Fields</strong></p><ul><li><strong><code>emissions::Dict{ResourceEmit, T}</code></strong> are the process emissions per unit produced.</li><li><strong><code>co2_capture::Float64</code></strong> is the CO₂ capture rate.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/data.jl#L50-L58">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.CaptureProcessEnergyEmissions" href="#EnergyModelsBase.CaptureProcessEnergyEmissions"><code>EnergyModelsBase.CaptureProcessEnergyEmissions</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">CaptureProcessEnergyEmissions{T} &lt;: CaptureData{T}</code></pre><p>Capture both the process emissions and the energy usage related emissions.</p><p><strong>Fields</strong></p><ul><li><strong><code>emissions::Dict{ResourceEmit, T}</code></strong> are the process emissions per unit produced.</li><li><strong><code>co2_capture::Float64</code></strong> is the CO₂ capture rate.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/data.jl#L36-L44">source</a></section></article><h3 id="lib-pub-em_data-fun_field"><a class="docs-heading-anchor" href="#lib-pub-em_data-fun_field">Functions for accessing fields of <code>EmissionsData</code> types</a><a id="lib-pub-em_data-fun_field-1"></a><a class="docs-heading-anchor-permalink" href="#lib-pub-em_data-fun_field" title="Permalink"></a></h3><p>The following functions are declared for accessing fields from a <code>EmissionsData</code> type.</p><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>If you want to introduce new <code>EmissionsData</code> types, it is important that the functions <code>co2_capture</code> and <code>process_emissions</code> are either functional for your new types or you have to declare corresponding functions. The first approach can be achieved through using the same name for the respective fields.</p></div></div><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.co2_capture" href="#EnergyModelsBase.co2_capture"><code>EnergyModelsBase.co2_capture</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">co2_capture(data::CaptureData)</code></pre><p>Returns the CO₂ capture rate of the <code>data</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/data.jl#L108-L112">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.process_emissions" href="#EnergyModelsBase.process_emissions"><code>EnergyModelsBase.process_emissions</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">process_emissions(data::EmissionsData)</code></pre><p>Returns the <a href="#EnergyModelsBase.ResourceEmit"><code>ResourceEmit</code></a>s that have process emissions of the <a href="#EnergyModelsBase.EmissionsData"><code>EmissionsData</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/data.jl#L115-L119">source</a></section><section><div><pre><code class="language-julia hljs">process_emissions(data::EmissionsData{T}, p::ResourceEmit)</code></pre><p>Returns the the process emissions of resource <code>p</code> in the <code>data</code> as <code>TimeProfile</code>. If the process emissions are provided as <code>Float64</code>, it returns a <code>FixedProfile(x)</code>. If there are no process emissions, it returns a <code>FixedProfile(0)</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/data.jl#L122-L128">source</a></section><section><div><pre><code class="language-julia hljs">process_emissions(data::EmissionsData{T}, p:ResourceEmit, t)</code></pre><p>Returns the the process emissions of resource <code>p</code> in the <code>data</code> at operational period t. If there are no process emissions, it returns a value of 0.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/data.jl#L137-L141">source</a></section></article><h2 id="lib-pub-inv_data"><a class="docs-heading-anchor" href="#lib-pub-inv_data">Investment data</a><a id="lib-pub-inv_data-1"></a><a class="docs-heading-anchor-permalink" href="#lib-pub-inv_data" title="Permalink"></a></h2><h3 id="lib-pub-inv_data-types"><a class="docs-heading-anchor" href="#lib-pub-inv_data-types"><code>InvestmentData</code> types</a><a id="lib-pub-inv_data-types-1"></a><a class="docs-heading-anchor-permalink" href="#lib-pub-inv_data-types" title="Permalink"></a></h3><p><code>InvestmentData</code> subtypes are used to provide technologies introduced in <code>EnergyModelsX</code> (nodes and transmission modes) a subtype of <code>Data</code> that can be used for dispatching. Two different types are directly introduced, <code>SingleInvData</code> and <code>StorageInvData</code>.</p><p><code>SingleInvData</code> is providing a composite type with a single field. It is used for investments in technologies with a single capacity, that is all nodes except for storage nodes as well as tranmission modes.</p><p><code>StorageInvData</code> is required as <code>Storage</code> nodes behave differently compared to the other nodes. In <code>Storage</code> nodes, it is possible to invest both in the charge capacity for storing energy, the storage capacity, that is the level of a <code>Storage</code> node, as well as the discharge capacity, that is how fast energy can be withdrawn. Correspondingly, it is necessary to have individual parameters for the potential investments in each capacity, that is through the fields <code>:charge</code>, <code>:level</code>, and <code>:discharge</code>.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.InvestmentData" href="#EnergyModelsBase.InvestmentData"><code>EnergyModelsBase.InvestmentData</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Abstract type for the extra data for investing in technologies.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/data.jl#L150-L152">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.SingleInvData" href="#EnergyModelsBase.SingleInvData"><code>EnergyModelsBase.SingleInvData</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">SingleInvData &lt;: InvestmentData</code></pre><p>Extra investment data for type investments. The extra investment data has only a single field in which <code>AbstractInvData</code> has to be added.</p><p>The advantage of separating <code>AbstractInvData</code> from the <code>InvestmentData</code> node is to allow easier separation of <code>EnergyModelsInvestments</code> and <code>EnergyModelsBase</code> and provides the user with the potential of introducing new capacities for types.</p><p><strong>Fields</strong></p><ul><li><strong><code>cap::AbstractInvData</code></strong> is the investment data for the capacity.</li></ul><p>When multiple inputs are provided, a constructor directly creates the corresponding <code>AbstractInvData</code>.</p><p><strong>Fields</strong></p><ul><li><strong><code>capex::TimeProfile</code></strong> is the capital costs for investing in a capacity. The value is relative to the added capacity.</li><li><strong><code>max_inst::TimeProfile</code></strong> is the maximum installed capacity in a strategic period.</li><li><strong><code>initial::Real</code></strong> is the initial capacity. This results in the creation of a <a href="https://energymodelsx.github.io/EnergyModelsInvestments.jl/stable/library/public/#EnergyModelsInvestments.StartInvData"><code>StartInvData</code></a> type for the investment data.</li><li><strong><code>inv_mode::Investment</code></strong> is the chosen investment mode for the technology. The following investment modes are currently available: <a href="https://energymodelsx.github.io/EnergyModelsInvestments.jl/stable/library/public/#BinaryInvestment"><code>BinaryInvestment</code></a>, <a href="https://energymodelsx.github.io/EnergyModelsInvestments.jl/stable/library/public/#DiscreteInvestment"><code>DiscreteInvestment</code></a>, <a href="https://energymodelsx.github.io/EnergyModelsInvestments.jl/stable/library/public/#ContinuousInvestment"><code>ContinuousInvestment</code></a>, <a href="https://energymodelsx.github.io/EnergyModelsInvestments.jl/stable/library/public/#SemiContinuousInvestment"><code>SemiContinuousInvestment</code></a>, or <a href="https://energymodelsx.github.io/EnergyModelsInvestments.jl/stable/library/public/#FixedInvestment"><code>FixedInvestment</code></a>.</li><li><strong><code>life_mode::LifetimeMode</code></strong> is type of handling the lifetime. Several different alternatives can be used: <a href="https://energymodelsx.github.io/EnergyModelsInvestments.jl/stable/library/public/#UnlimitedLife"><code>UnlimitedLife</code></a>, <a href="https://energymodelsx.github.io/EnergyModelsInvestments.jl/stable/library/public/#StudyLife"><code>StudyLife</code></a>, <a href="https://energymodelsx.github.io/EnergyModelsInvestments.jl/stable/library/public/#PeriodLife"><code>PeriodLife</code></a>, or <a href="https://energymodelsx.github.io/EnergyModelsInvestments.jl/stable/library/public/#RollingLife"><code>RollingLife</code></a>. If <code>life_mode</code> is not specified, the model assumes an <a href="https://energymodelsx.github.io/EnergyModelsInvestments.jl/stable/library/public/#UnlimitedLife"><code>UnlimitedLife</code></a>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/data.jl#L174-L210">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.StorageInvData" href="#EnergyModelsBase.StorageInvData"><code>EnergyModelsBase.StorageInvData</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">StorageInvData &lt;: InvestmentData</code></pre><p>Extra investment data for storage investments. The extra investment data for storage investments can, but does not require investment data for the charge capacity of the storage (<strong><code>charge</code></strong>), increasing the storage capacity (<strong><code>level</code></strong>), or the discharge capacity of the storage (<strong><code>discharge</code></strong>).</p><p>It utilizes a constructor with keyword arguments for the individual parameters. Hence, the names of the parameters have to be specified.</p><p><strong>Fields</strong></p><ul><li><strong><code>charge::Union{AbstractInvData, Nothing}</code></strong> is the investment data for the charge capacity.</li><li><strong><code>level::Union{AbstractInvData, Nothing}</code></strong> is the investment data for the level capacity.</li><li><strong><code>discharge::Union{AbstractInvData, Nothing}</code></strong> is the investment data for the discharge capacity.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/data.jl#L155-L171">source</a></section></article><h3 id="lib-pub-inv_data-leg"><a class="docs-heading-anchor" href="#lib-pub-inv_data-leg">Legacy constructors</a><a id="lib-pub-inv_data-leg-1"></a><a class="docs-heading-anchor-permalink" href="#lib-pub-inv_data-leg" title="Permalink"></a></h3><p>We provide a legacy constructor, <code>InvData</code> and <code>InvDataStorage</code>, that use the same input as in version 0.5.x. If you want to adjust your model to the latest changes, please refer to the section <em><a href="https://energymodelsx.github.io/EnergyModelsInvestments.jl/stable/how-to/update-models/#how_to-update-05">Update your model to the latest version of EnergyModelsInvestments</a></em>.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.InvData" href="#EnergyModelsBase.InvData"><code>EnergyModelsBase.InvData</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">EMB.InvData(;kwargs)</code></pre><p>Internal method for <a href="#EnergyModelsBase.InvData"><code>InvData</code></a>. The introduction of an internal method is necessary as extensions do not allow to export functions or types.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/ext/EMIExt/structures/legacy_constructor.jl#L1-L6">source</a></section><section><div><pre><code class="language-julia hljs">InvData(;
    capex_cap::TimeProfile,
    cap_max_inst::TimeProfile,
    cap_max_add::TimeProfile,
    cap_min_add::TimeProfile,
    inv_mode::Investment = ContinuousInvestment(),
    cap_start::Union{Real, Nothing} = nothing,
    cap_increment::TimeProfile = FixedProfile(0),
    life_mode::LifetimeMode = UnlimitedLife(),
    lifetime::TimeProfile = FixedProfile(0),
)</code></pre><p>Legacy constructor for a <code>InvData</code>.</p><p>The new storage descriptions allows now for a reduction in functions which is used to make <code>EnergModelsInvestments</code> less dependent on <code>EnergyModelsBase</code>.</p><p>The core changes to the existing structure is the move of the required parameters to the type <code>Investment</code> (<em>e.g.</em>, the minimum and maximum added capacity is only required for investment modes that require these parameters) as well as moving the <code>lifetime</code> to the type <code>LifetimeMode</code>, when required.</p><p>See the <em><a href="https://energymodelsx.github.io/EnergyModelsInvestments.jl/stable/how-to/update-models">documentation</a></em> for further information regarding how you can translate your existing model to the new model.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/data.jl#L213-L238">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.InvDataStorage" href="#EnergyModelsBase.InvDataStorage"><code>EnergyModelsBase.InvDataStorage</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">InvDataStorage(;kwargs)</code></pre><p>Internal method for <a href="#EnergyModelsBase.InvDataStorage"><code>InvDataStorage</code></a>. The introduction of an internal method is necessary as extensions do not allow to export functions or types.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/ext/EMIExt/structures/legacy_constructor.jl#L76-L81">source</a></section><section><div><pre><code class="language-julia hljs">InvDataStorage(;
    #Investment data related to storage power
    capex_rate::TimeProfile,
    rate_max_inst::TimeProfile,
    rate_max_add::TimeProfile,
    rate_min_add::TimeProfile,
    capex_stor::TimeProfile,
    stor_max_inst::TimeProfile,
    stor_max_add::TimeProfile,
    stor_min_add::TimeProfile,
    inv_mode::Investment = ContinuousInvestment(),
    rate_start::Union{Real, Nothing} = nothing,
    stor_start::Union{Real, Nothing} = nothing,
    rate_increment::TimeProfile = FixedProfile(0),
    stor_increment::TimeProfile = FixedProfile(0),
    life_mode::LifetimeMode = UnlimitedLife(),
    lifetime::TimeProfile = FixedProfile(0),
)</code></pre><p>Storage descriptions were changed in EnergyModelsBase v0.7 resulting in the requirement for rewriting the investment options for <code>Storage</code> nodes.</p><p>See the <em><a href="https://energymodelsx.github.io/EnergyModelsInvestments.jl/stable/how-to/update-models">documentation</a></em> for further information regarding how you can translate your existing model to the new model.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/data.jl#L241-L266">source</a></section></article><h2 id="lib-pub-misc_type"><a class="docs-heading-anchor" href="#lib-pub-misc_type">Miscellaneous types/functions/macros</a><a id="lib-pub-misc_type-1"></a><a class="docs-heading-anchor-permalink" href="#lib-pub-misc_type" title="Permalink"></a></h2><h3 id="lib-pub-misc_type-prev_cyclic"><a class="docs-heading-anchor" href="#lib-pub-misc_type-prev_cyclic"><code>PreviousPeriods</code> and <code>CyclicPeriods</code></a><a id="lib-pub-misc_type-prev_cyclic-1"></a><a class="docs-heading-anchor-permalink" href="#lib-pub-misc_type-prev_cyclic" title="Permalink"></a></h3><p><code>PreviousPeriods</code> is a type used to store information from the previous periods in an iteration loop through the application of the iterator <a href="https://sintefore.github.io/TimeStruct.jl/stable/reference/api/#TimeStruct.withprev"><code>withprev</code></a> of <code>TimeStruct</code>.</p><p><code>CyclicPeriods</code> is used for storing the current and the last period. The periods can either be either and <code>AbstractStrategicPeriod</code> or <code>AbstractRepresentativePeriod</code>. In the former case, it is however not fully used as the last strategic period is not relevant for the level balances.</p><p>Both composite types allow only <code>EMB.NothingPeriod</code> types as input to the individual fields.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.PreviousPeriods" href="#EnergyModelsBase.PreviousPeriods"><code>EnergyModelsBase.PreviousPeriods</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">PreviousPeriods{S&lt;:NothingPeriod, T&lt;:NothingPeriod, U&lt;:NothingPeriod}</code></pre><p>Contains the previous strategic, representative, and operational period used through the application of the <code>with_prev</code> iterator developed in <code>TimeStruct</code>.</p><p><strong>Fields</strong></p><ul><li><strong><code>sp::S</code></strong> the previous strategic period.</li><li><strong><code>rp::T</code></strong> the previous representative period.</li><li><strong><code>op::U</code></strong> the previous operational period.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/misc.jl#L8-L18">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.CyclicPeriods" href="#EnergyModelsBase.CyclicPeriods"><code>EnergyModelsBase.CyclicPeriods</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">CyclicPeriods{S&lt;:NothingPeriod}</code></pre><p>Contains information for calculating the cyclic constraints. The parameter <code>S</code> should be either an <code>AbstractStrategicPeriod</code> or <code>AbstractRepresentativePeriod</code>.</p><p><strong>Fields</strong></p><ul><li><strong><code>last_per::S</code></strong> the last period in the case of <code>S&lt;:AbstractRepresentativePeriod</code> or the current period in the case of <code>S&lt;:AbstractStrategicPeriod</code> as the last strategic period is not relevant.</li><li><strong><code>current_per::S</code></strong> the current period in both the case of <code>S&lt;:AbstractRepresentativePeriod</code> and <code>S&lt;:AbstractStrategicPeriod</code>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/misc.jl#L44-L56">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.NothingPeriod" href="#EnergyModelsBase.NothingPeriod"><code>EnergyModelsBase.NothingPeriod</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Union of <code>Nothing</code>, <code>TS.TimePeriod</code>, and <code>TS.TimeStructure{T} where {T}</code> to be used for limiting the potential entries to the fields of <a href="#EnergyModelsBase.PreviousPeriods"><code>PreviousPeriods</code></a> and <a href="#EnergyModelsBase.CyclicPeriods"><code>CyclicPeriods</code></a> types.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/misc.jl#L1-L5">source</a></section></article><p>The individual fields can be accessed through the following functions:</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.strat_per" href="#EnergyModelsBase.strat_per"><code>EnergyModelsBase.strat_per</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">strat_per(prev_periods::PreviousPeriods)</code></pre><p>Extracts the previous strategic period (fields <code>sp</code>) from a <a href="#EnergyModelsBase.PreviousPeriods"><code>PreviousPeriods</code></a> type.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/misc.jl#L25-L29">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.rep_per" href="#EnergyModelsBase.rep_per"><code>EnergyModelsBase.rep_per</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">rep_per(prev_periods::PreviousPeriods)</code></pre><p>Extracts the previous representative period (fields <code>sp</code>) from a <a href="#EnergyModelsBase.PreviousPeriods"><code>PreviousPeriods</code></a> type.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/misc.jl#L31-L35">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.op_per" href="#EnergyModelsBase.op_per"><code>EnergyModelsBase.op_per</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">op_per(prev_periods::PreviousPeriods)</code></pre><p>Extracts the previous operational period (fields <code>sp</code>) from a <a href="#EnergyModelsBase.PreviousPeriods"><code>PreviousPeriods</code></a> type.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/misc.jl#L37-L41">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.last_per" href="#EnergyModelsBase.last_per"><code>EnergyModelsBase.last_per</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">last_per(cyclic_pers::CyclicPeriods)</code></pre><p>Extracts the last period (fields <code>last_per</code>) from a <a href="#EnergyModelsBase.CyclicPeriods"><code>CyclicPeriods</code></a> type.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/misc.jl#L62-L66">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.current_per" href="#EnergyModelsBase.current_per"><code>EnergyModelsBase.current_per</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">current_per(cyclic_pers::CyclicPeriods)</code></pre><p>Extracts the current period (fields <code>current_per</code>) from a <a href="#EnergyModelsBase.CyclicPeriods"><code>CyclicPeriods</code></a> type.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/structures/misc.jl#L69-L73">source</a></section></article><h3 id="lib-pub-misc_type-macros"><a class="docs-heading-anchor" href="#lib-pub-misc_type-macros">Macros for checking the input data</a><a id="lib-pub-misc_type-macros-1"></a><a class="docs-heading-anchor-permalink" href="#lib-pub-misc_type-macros" title="Permalink"></a></h3><p>The macro <code>@assert_or_log</code> is an extension to the <code>@assert</code> macro to allow either for asserting the input data directly, or logging the errors in the input data.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.@assert_or_log" href="#EnergyModelsBase.@assert_or_log"><code>EnergyModelsBase.@assert_or_log</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">assert_or_log(ex, msg)</code></pre><p>Macro that extends the behaviour of the <code>@assert</code> macro. The switch <code>ASSERTS_AS_LOG</code>, controls if the macro should act as a logger or a normal <code>@assert</code>. This macro is designed to be used to check whether the data provided is consistent.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsBase.jl/blob/98a4b71183b21455e9530f47b1a2560eec376725/src/checks.jl#L12-L18">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../how-to/contribute/">« Contribute to EnergyModelsBase</a><a class="docs-footer-nextpage" href="../internals/reference/">Reference »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.7.0 on <span class="colophon-date" title="Monday 30 September 2024 10:41">Monday 30 September 2024</span>. Using Julia version 1.10.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
